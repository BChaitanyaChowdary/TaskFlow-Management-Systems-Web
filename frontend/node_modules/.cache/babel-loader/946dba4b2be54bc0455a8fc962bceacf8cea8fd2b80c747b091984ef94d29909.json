{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Play,Pause,Square,Timer,Clock}from'lucide-react';import Card from'../UI/Card';import Button from'../UI/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TimeTracker=_ref=>{let{taskId,taskTitle,onTimeUpdate}=_ref;const[isRunning,setIsRunning]=useState(false);const[timeElapsed,setTimeElapsed]=useState(0);const[startTime,setStartTime]=useState(null);const[sessions,setSessions]=useState([]);useEffect(()=>{let interval=null;if(isRunning){interval=setInterval(()=>{setTimeElapsed(Date.now()-startTime);},1000);}else if(!isRunning&&timeElapsed!==0){clearInterval(interval);}return()=>clearInterval(interval);},[isRunning,startTime,timeElapsed]);const formatTime=ms=>{const totalSeconds=Math.floor(ms/1000);const hours=Math.floor(totalSeconds/3600);const minutes=Math.floor(totalSeconds%3600/60);const seconds=totalSeconds%60;return\"\".concat(hours.toString().padStart(2,'0'),\":\").concat(minutes.toString().padStart(2,'0'),\":\").concat(seconds.toString().padStart(2,'0'));};const startTimer=()=>{setStartTime(Date.now());setIsRunning(true);};const pauseTimer=()=>{setIsRunning(false);const session={id:Date.now(),startTime:startTime,endTime:Date.now(),duration:timeElapsed,taskId:taskId,taskTitle:taskTitle};setSessions([...sessions,session]);if(onTimeUpdate){onTimeUpdate(session);}};const stopTimer=()=>{setIsRunning(false);if(timeElapsed>0){const session={id:Date.now(),startTime:startTime,endTime:Date.now(),duration:timeElapsed,taskId:taskId,taskTitle:taskTitle};setSessions([...sessions,session]);if(onTimeUpdate){onTimeUpdate(session);}}setTimeElapsed(0);setStartTime(null);};const totalTime=sessions.reduce((acc,session)=>acc+session.duration,0)+timeElapsed;return/*#__PURE__*/_jsxs(Card,{className:\"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Timer,{className:\"h-5 w-5 text-blue-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:\"Time Tracker\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:taskTitle&&\"Task: \".concat(taskTitle)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-blue-600 mb-2\",children:formatTime(timeElapsed)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Current Session\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-2 mb-4\",children:[!isRunning?/*#__PURE__*/_jsxs(Button,{onClick:startTimer,className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4\"}),\"Start\"]}):/*#__PURE__*/_jsxs(Button,{onClick:pauseTimer,className:\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Pause,{className:\"h-4 w-4\"}),\"Pause\"]}),/*#__PURE__*/_jsxs(Button,{onClick:stopTimer,className:\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Square,{className:\"h-4 w-4\"}),\"Stop\"]})]}),sessions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Total Time Today\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-gray-900\",children:formatTime(totalTime)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-32 overflow-y-auto\",children:sessions.slice(-3).map(session=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm bg-white p-2 rounded border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:session.taskTitle}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatTime(session.duration)})]},session.id))})]})]});};export default TimeTracker;","map":{"version":3,"names":["React","useState","useEffect","Play","Pause","Square","Timer","Clock","Card","Button","jsx","_jsx","jsxs","_jsxs","TimeTracker","_ref","taskId","taskTitle","onTimeUpdate","isRunning","setIsRunning","timeElapsed","setTimeElapsed","startTime","setStartTime","sessions","setSessions","interval","setInterval","Date","now","clearInterval","formatTime","ms","totalSeconds","Math","floor","hours","minutes","seconds","concat","toString","padStart","startTimer","pauseTimer","session","id","endTime","duration","stopTimer","totalTime","reduce","acc","className","children","onClick","length","slice","map"],"sources":["C:/Users/B Chaitanya Chowdary/Desktop/Task/frontend/src/components/TimeTracking/TimeTracker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Play, Pause, Square, Timer, Clock } from 'lucide-react';\r\nimport Card from '../UI/Card';\r\nimport Button from '../UI/Button';\r\n\r\nconst TimeTracker = ({ taskId, taskTitle, onTimeUpdate }) => {\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [timeElapsed, setTimeElapsed] = useState(0);\r\n  const [startTime, setStartTime] = useState(null);\r\n  const [sessions, setSessions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (isRunning) {\r\n      interval = setInterval(() => {\r\n        setTimeElapsed(Date.now() - startTime);\r\n      }, 1000);\r\n    } else if (!isRunning && timeElapsed !== 0) {\r\n      clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRunning, startTime, timeElapsed]);\r\n\r\n  const formatTime = (ms) => {\r\n    const totalSeconds = Math.floor(ms / 1000);\r\n    const hours = Math.floor(totalSeconds / 3600);\r\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\r\n    const seconds = totalSeconds % 60;\r\n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const startTimer = () => {\r\n    setStartTime(Date.now());\r\n    setIsRunning(true);\r\n  };\r\n\r\n  const pauseTimer = () => {\r\n    setIsRunning(false);\r\n    const session = {\r\n      id: Date.now(),\r\n      startTime: startTime,\r\n      endTime: Date.now(),\r\n      duration: timeElapsed,\r\n      taskId: taskId,\r\n      taskTitle: taskTitle\r\n    };\r\n    setSessions([...sessions, session]);\r\n    if (onTimeUpdate) {\r\n      onTimeUpdate(session);\r\n    }\r\n  };\r\n\r\n  const stopTimer = () => {\r\n    setIsRunning(false);\r\n    if (timeElapsed > 0) {\r\n      const session = {\r\n        id: Date.now(),\r\n        startTime: startTime,\r\n        endTime: Date.now(),\r\n        duration: timeElapsed,\r\n        taskId: taskId,\r\n        taskTitle: taskTitle\r\n      };\r\n      setSessions([...sessions, session]);\r\n      if (onTimeUpdate) {\r\n        onTimeUpdate(session);\r\n      }\r\n    }\r\n    setTimeElapsed(0);\r\n    setStartTime(null);\r\n  };\r\n\r\n  const totalTime = sessions.reduce((acc, session) => acc + session.duration, 0) + timeElapsed;\r\n\r\n  return (\r\n    <Card className=\"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Timer className=\"h-5 w-5 text-blue-600\" />\r\n          <h3 className=\"font-semibold text-gray-900\">Time Tracker</h3>\r\n        </div>\r\n        <div className=\"text-sm text-gray-500\">\r\n          {taskTitle && `Task: ${taskTitle}`}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-center mb-4\">\r\n        <div className=\"text-3xl font-bold text-blue-600 mb-2\">\r\n          {formatTime(timeElapsed)}\r\n        </div>\r\n        <div className=\"text-sm text-gray-500\">\r\n          Current Session\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex justify-center gap-2 mb-4\">\r\n        {!isRunning ? (\r\n          <Button\r\n            onClick={startTimer}\r\n            className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\r\n          >\r\n            <Play className=\"h-4 w-4\" />\r\n            Start\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            onClick={pauseTimer}\r\n            className=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\r\n          >\r\n            <Pause className=\"h-4 w-4\" />\r\n            Pause\r\n          </Button>\r\n        )}\r\n        \r\n        <Button\r\n          onClick={stopTimer}\r\n          className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2\"\r\n        >\r\n          <Square className=\"h-4 w-4\" />\r\n          Stop\r\n        </Button>\r\n      </div>\r\n\r\n      {sessions.length > 0 && (\r\n        <div className=\"border-t pt-4\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-sm font-medium text-gray-700\">Total Time Today</span>\r\n            <span className=\"text-lg font-bold text-gray-900\">{formatTime(totalTime)}</span>\r\n          </div>\r\n          \r\n          <div className=\"space-y-2 max-h-32 overflow-y-auto\">\r\n            {sessions.slice(-3).map((session) => (\r\n              <div key={session.id} className=\"flex items-center justify-between text-sm bg-white p-2 rounded border\">\r\n                <span className=\"text-gray-600\">{session.taskTitle}</span>\r\n                <span className=\"font-medium\">{formatTime(session.duration)}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TimeTracker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}