{"ast":null,"code":"import React,{useMemo,useState}from'react';import{useQuery}from'react-query';import{tasksAPI}from'../../services/api';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useTheme}from'../../contexts/ThemeContext';import{LayoutDashboard,CheckSquare,Kanban,FolderOpen,Users,User,LogOut,Menu,X,Bell,Moon,Sun,Search}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Layout=_ref=>{var _notifResp$data,_user$role;let{children}=_ref;const{user,logout}=useAuth();const{isDarkMode,toggleTheme}=useTheme();const location=useLocation();const[sidebarOpen,setSidebarOpen]=useState(false);const[showLogoutModal,setShowLogoutModal]=useState(false);const[logoutPassword,setLogoutPassword]=useState('');const[showNotif,setShowNotif]=useState(false);const[showSearch,setShowSearch]=useState(false);const[searchQuery,setSearchQuery]=useState('');const{data:notifResp}=useQuery('notifications',tasksAPI.getNotifications,{refetchInterval:15000});const notificationsRaw=(notifResp===null||notifResp===void 0?void 0:(_notifResp$data=notifResp.data)===null||_notifResp$data===void 0?void 0:_notifResp$data.items)||(notifResp===null||notifResp===void 0?void 0:notifResp.items)||[];const[clearedAt,setClearedAt]=useState(()=>Number(window.localStorage.getItem('tf_cleared_at')||0));const[clearedNotifications,setClearedNotifications]=useState(()=>{const stored=window.localStorage.getItem('tf_cleared_notifications');return stored?JSON.parse(stored):[];});const notifications=useMemo(()=>{let filtered=notificationsRaw||[];// Filter by cleared timestamp\nif(clearedAt){filtered=filtered.filter(n=>new Date(n.created_at).getTime()>clearedAt);}// Filter by individually cleared notifications\nfiltered=filtered.filter(n=>!clearedNotifications.includes(\"\".concat(n.type,\"-\").concat(n.id)));return filtered;},[notificationsRaw,clearedAt,clearedNotifications]);const clearIndividualNotification=notification=>{const notificationId=\"\".concat(notification.type,\"-\").concat(notification.id);const newCleared=[...clearedNotifications,notificationId];setClearedNotifications(newCleared);window.localStorage.setItem('tf_cleared_notifications',JSON.stringify(newCleared));};const navigation=[{name:'Dashboard',href:'/dashboard',icon:LayoutDashboard},{name:'Tasks',href:'/tasks',icon:CheckSquare},{name:'Kanban',href:'/kanban',icon:Kanban},{name:'Projects',href:'/projects',icon:FolderOpen},...((user===null||user===void 0?void 0:user.role)==='scrum_master'?[{name:'Users',href:'/users',icon:Users}]:[])];const isActive=path=>location.pathname===path;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen \".concat(isDarkMode?'dark bg-gray-900':'bg-gray-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 lg:hidden \".concat(sidebarOpen?'block':'hidden'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-75\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-y-0 left-0 flex w-64 flex-col shadow-xl \".concat(isDarkMode?'bg-gray-800':'bg-white'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-16 items-center justify-between px-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"TaskFlow\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 px-4 py-4 space-y-2\",children:navigation.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsxs(Link,{to:item.href,className:\"flex items-center px-3 py-2 text-sm font-medium rounded-md \".concat(isActive(item.href)?isDarkMode?'bg-blue-600 text-white':'bg-blue-100 text-blue-700':isDarkMode?'text-gray-300 hover:bg-gray-700 hover:text-white':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'),onClick:()=>setSidebarOpen(false),children:[/*#__PURE__*/_jsx(Icon,{className:\"mr-3 h-5 w-5\"}),item.name]},item.name);})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow border-r \".concat(isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex h-16 items-center px-4\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"TaskFlow\"})}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 px-4 py-4 space-y-2\",children:navigation.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsxs(Link,{to:item.href,className:\"flex items-center px-3 py-2 text-sm font-medium rounded-md \".concat(isActive(item.href)?isDarkMode?'bg-blue-600 text-white':'bg-blue-100 text-blue-700':isDarkMode?'text-gray-300 hover:bg-gray-700 hover:text-white':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'),children:[/*#__PURE__*/_jsx(Icon,{className:\"mr-3 h-5 w-5\"}),item.name]},item.name);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:pl-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 z-40 flex h-16 items-center justify-between border-b px-4 lg:px-8 \".concat(isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'),children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(true),className:\"lg:hidden \".concat(isDarkMode?'text-gray-400 hover:text-gray-300':'text-gray-500 hover:text-gray-600'),children:/*#__PURE__*/_jsx(Menu,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 ml-auto\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSearch(true),className:\"p-2 rounded-lg transition-colors \".concat(isDarkMode?'text-gray-400 hover:text-gray-300 hover:bg-gray-700':'text-gray-400 hover:text-gray-600 hover:bg-gray-100'),title:\"Search\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleTheme,className:\"p-2 rounded-lg transition-colors \".concat(isDarkMode?'text-gray-400 hover:text-gray-300 hover:bg-gray-700':'text-gray-400 hover:text-gray-600 hover:bg-gray-100'),title:isDarkMode?'Switch to Light Mode':'Switch to Dark Mode',children:isDarkMode?/*#__PURE__*/_jsx(Sun,{className:\"h-5 w-5 text-yellow-500\"}):/*#__PURE__*/_jsx(Moon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"relative \".concat(isDarkMode?'text-gray-400 hover:text-gray-300':'text-gray-400 hover:text-gray-600'),onClick:()=>setShowNotif(!showNotif),children:[/*#__PURE__*/_jsx(Bell,{className:\"h-6 w-6\"}),notifications.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-medium leading-none text-white bg-red-600 rounded-full\",children:[Math.min(notifications.length,9),\"+\"]})]}),showNotif&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-96 max-h-96 overflow-y-auto border rounded-xl shadow-2xl z-50 \".concat(isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b flex items-center justify-between \".concat(isDarkMode?'border-gray-700':'border-gray-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg \".concat(isDarkMode?'bg-blue-600':'bg-blue-100'),children:/*#__PURE__*/_jsx(Bell,{className:\"h-4 w-4 \".concat(isDarkMode?'text-white':'text-blue-600')})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Notifications\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:[notifications.length,\" \",notifications.length===1?'notification':'notifications']})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 text-xs rounded-lg font-medium transition-colors \".concat(isDarkMode?'bg-red-600 text-white hover:bg-red-700':'bg-red-100 text-red-700 hover:bg-red-200'),onClick:()=>{const now=Date.now();window.localStorage.setItem('tf_cleared_at',String(now));setClearedAt(now);},children:\"Clear All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 space-y-3\",children:notifications.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:[/*#__PURE__*/_jsx(Bell,{className:\"h-12 w-12 mx-auto mb-3 \".concat(isDarkMode?'text-gray-600':'text-gray-300')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"No notifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1\",children:\"You're all caught up!\"})]}):notifications.slice(0,20).map(n=>/*#__PURE__*/_jsx(\"div\",{className:\"group p-4 rounded-xl border transition-all duration-200 hover:shadow-md \".concat(isDarkMode?'bg-gray-700 border-gray-600 hover:bg-gray-600':'bg-gray-50 border-gray-100 hover:bg-white'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-semibold \".concat(n.type==='activity'?isDarkMode?'bg-blue-600 text-blue-100':'bg-blue-100 text-blue-700':n.type==='due_soon'?isDarkMode?'bg-yellow-600 text-yellow-100':'bg-yellow-100 text-yellow-700':isDarkMode?'bg-green-600 text-green-100':'bg-green-100 text-green-700'),children:n.type==='activity'?'Activity':n.type==='due_soon'?'Due Soon':'Message'}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:[new Date(n.created_at).toLocaleDateString(),\" \",new Date(n.created_at).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm \".concat(isDarkMode?'text-white':'text-gray-900'),children:n.type==='activity'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium line-clamp-2\",children:n.description}),n.task_title&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs mt-1 \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:[\"Task: \",n.task_title]})]}):n.type==='due_soon'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium line-clamp-2\",children:n.content}),n.project_name&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs mt-1 \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:[\"Project: \",n.project_name]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium line-clamp-2\",children:n.content}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs mt-1 \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:[\"From: \",n.author_name,n.project_name?\" \\u2022 \".concat(n.project_name):'']})]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>clearIndividualNotification(n),className:\"ml-2 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 \".concat(isDarkMode?'text-gray-400 hover:text-gray-300 hover:bg-gray-600':'text-gray-400 hover:text-gray-600 hover:bg-gray-200'),title:\"Clear notification\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]})},\"\".concat(n.type,\"-\").concat(n.id)))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium \".concat(isDarkMode?'text-white':'text-gray-900'),children:user!==null&&user!==void 0&&user.first_name?\"\".concat(user.first_name,\" \").concat(user.last_name||'').trim():(user===null||user===void 0?void 0:user.username)||''}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs capitalize \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:user===null||user===void 0?void 0:(_user$role=user.role)===null||_user$role===void 0?void 0:_user$role.replace('_',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"\".concat(isDarkMode?'text-gray-400 hover:text-gray-300':'text-gray-400 hover:text-gray-600'),children:/*#__PURE__*/_jsx(User,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLogoutModal(true),className:\"\".concat(isDarkMode?'text-gray-400 hover:text-gray-300':'text-gray-400 hover:text-gray-600'),title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{className:\"h-6 w-6\"})})]})]})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"p-4 lg:p-8 \".concat(isDarkMode?'bg-gray-900':'bg-gray-50'),children:children}),showLogoutModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-900/40\",onClick:()=>setShowLogoutModal(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-lg shadow-xl w-full max-w-md p-6 \".concat(isDarkMode?'bg-gray-800':'bg-white'),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2 \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Confirm Logout\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-4 \".concat(isDarkMode?'text-gray-300':'text-gray-600'),children:\"For security, please enter your password to logout.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'border-gray-300'),placeholder:\"Enter your password\",value:logoutPassword,onChange:e=>setLogoutPassword(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-sm rounded-md border \".concat(isDarkMode?'border-gray-600 text-gray-300 hover:bg-gray-700':'border-gray-300 text-gray-700 hover:bg-gray-50'),onClick:()=>{setShowLogoutModal(false);setLogoutPassword('');},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-sm rounded-md text-white \".concat(logoutPassword?'bg-red-600 hover:bg-red-700':'bg-red-300 cursor-not-allowed'),disabled:!logoutPassword,onClick:()=>{// Optionally verify password with backend before logout\nlogout();setShowLogoutModal(false);setLogoutPassword('');},children:\"Logout\"})]})]})]}),showSearch&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-50\",onClick:()=>setShowSearch(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full max-w-2xl mx-4 rounded-2xl shadow-2xl \".concat(isDarkMode?'bg-gray-800':'bg-white'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b \".concat(isDarkMode?'border-gray-700':'border-gray-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl \".concat(isDarkMode?'bg-blue-600':'bg-blue-100'),children:/*#__PURE__*/_jsx(Search,{className:\"h-6 w-6 \".concat(isDarkMode?'text-white':'text-blue-600')})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:\"Search across all your data\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSearch(false),className:\"absolute top-4 right-4 p-2 rounded-lg \".concat(isDarkMode?'text-gray-400 hover:text-gray-300 hover:bg-gray-700':'text-gray-400 hover:text-gray-600 hover:bg-gray-100'),children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 \".concat(isDarkMode?'text-gray-400':'text-gray-500')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search tasks, projects, users...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'border-gray-300'),autoFocus:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-500'),children:\"Search functionality will be implemented with backend integration\"})})]})]})]})]})]});};export default Layout;","map":{"version":3,"names":["React","useMemo","useState","useQuery","tasksAPI","Link","useLocation","useAuth","useTheme","LayoutDashboard","CheckSquare","Kanban","FolderOpen","Users","User","LogOut","Menu","X","Bell","Moon","Sun","Search","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Layout","_ref","_notifResp$data","_user$role","children","user","logout","isDarkMode","toggleTheme","location","sidebarOpen","setSidebarOpen","showLogoutModal","setShowLogoutModal","logoutPassword","setLogoutPassword","showNotif","setShowNotif","showSearch","setShowSearch","searchQuery","setSearchQuery","data","notifResp","getNotifications","refetchInterval","notificationsRaw","items","clearedAt","setClearedAt","Number","window","localStorage","getItem","clearedNotifications","setClearedNotifications","stored","JSON","parse","notifications","filtered","filter","n","Date","created_at","getTime","includes","concat","type","id","clearIndividualNotification","notification","notificationId","newCleared","setItem","stringify","navigation","name","href","icon","role","isActive","path","pathname","className","onClick","map","item","Icon","to","title","length","Math","min","now","String","slice","toLocaleDateString","toLocaleTimeString","hour","minute","description","task_title","content","project_name","author_name","first_name","last_name","trim","username","replace","placeholder","value","onChange","e","target","disabled","autoFocus"],"sources":["C:/Users/B Chaitanya Chowdary/Desktop/Task/frontend/src/components/Layout/Layout.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { tasksAPI } from '../../services/api';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useTheme } from '../../contexts/ThemeContext';\r\nimport {\r\n  LayoutDashboard,\r\n  CheckSquare,\r\n  Kanban,\r\n  FolderOpen,\r\n  Users,\r\n  User,\r\n  LogOut,\r\n  Menu,\r\n  X,\r\n  Bell,\r\n  Moon,\r\n  Sun,\r\n  Search,\r\n} from 'lucide-react';\r\n\r\nconst Layout = ({ children }) => {\r\n  const { user, logout } = useAuth();\r\n  const { isDarkMode, toggleTheme } = useTheme();\r\n  const location = useLocation();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\r\n  const [logoutPassword, setLogoutPassword] = useState('');\r\n  const [showNotif, setShowNotif] = useState(false);\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const { data: notifResp } = useQuery(\r\n    'notifications',\r\n    tasksAPI.getNotifications,\r\n    { refetchInterval: 15000 }\r\n  );\r\n  const notificationsRaw = notifResp?.data?.items || notifResp?.items || [];\r\n  const [clearedAt, setClearedAt] = useState(() => Number(window.localStorage.getItem('tf_cleared_at') || 0));\r\n  const [clearedNotifications, setClearedNotifications] = useState(() => {\r\n    const stored = window.localStorage.getItem('tf_cleared_notifications');\r\n    return stored ? JSON.parse(stored) : [];\r\n  });\r\n  \r\n  const notifications = useMemo(() => {\r\n    let filtered = notificationsRaw || [];\r\n    \r\n    // Filter by cleared timestamp\r\n    if (clearedAt) {\r\n      filtered = filtered.filter((n) => new Date(n.created_at).getTime() > clearedAt);\r\n    }\r\n    \r\n    // Filter by individually cleared notifications\r\n    filtered = filtered.filter((n) => !clearedNotifications.includes(`${n.type}-${n.id}`));\r\n    \r\n    return filtered;\r\n  }, [notificationsRaw, clearedAt, clearedNotifications]);\r\n\r\n  const clearIndividualNotification = (notification) => {\r\n    const notificationId = `${notification.type}-${notification.id}`;\r\n    const newCleared = [...clearedNotifications, notificationId];\r\n    setClearedNotifications(newCleared);\r\n    window.localStorage.setItem('tf_cleared_notifications', JSON.stringify(newCleared));\r\n  };\r\n\r\n  const navigation = [\r\n    { name: 'Dashboard', href: '/dashboard', icon: LayoutDashboard },\r\n    { name: 'Tasks', href: '/tasks', icon: CheckSquare },\r\n    { name: 'Kanban', href: '/kanban', icon: Kanban },\r\n    { name: 'Projects', href: '/projects', icon: FolderOpen },\r\n    ...(user?.role === 'scrum_master' ? [{ name: 'Users', href: '/users', icon: Users }] : []),\r\n  ];\r\n\r\n  const isActive = (path) => location.pathname === path;\r\n\r\n  return (\r\n    <div className={`min-h-screen ${isDarkMode ? 'dark bg-gray-900' : 'bg-gray-50'}`}>\r\n      {/* Mobile sidebar */}\r\n      <div className={`fixed inset-0 z-50 lg:hidden ${sidebarOpen ? 'block' : 'hidden'}`}>\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75\" onClick={() => setSidebarOpen(false)} />\r\n        <div className={`fixed inset-y-0 left-0 flex w-64 flex-col shadow-xl ${isDarkMode ? 'bg-gray-800' : 'bg-white'}`}>\r\n          <div className=\"flex h-16 items-center justify-between px-4\">\r\n            <h1 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>TaskFlow</h1>\r\n            <button\r\n              onClick={() => setSidebarOpen(false)}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <X className=\"h-6 w-6\" />\r\n            </button>\r\n          </div>\r\n          <nav className=\"flex-1 px-4 py-4 space-y-2\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon;\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  to={item.href}\r\n                  className={`flex items-center px-3 py-2 text-sm font-medium rounded-md ${\r\n                    isActive(item.href)\r\n                      ? isDarkMode ? 'bg-blue-600 text-white' : 'bg-blue-100 text-blue-700'\r\n                      : isDarkMode ? 'text-gray-300 hover:bg-gray-700 hover:text-white' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                  }`}\r\n                  onClick={() => setSidebarOpen(false)}\r\n                >\r\n                  <Icon className=\"mr-3 h-5 w-5\" />\r\n                  {item.name}\r\n                </Link>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Desktop sidebar */}\r\n      <div className=\"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col\">\r\n        <div className={`flex flex-col flex-grow border-r ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n          <div className=\"flex h-16 items-center px-4\">\r\n            <h1 className={`text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>TaskFlow</h1>\r\n          </div>\r\n          <nav className=\"flex-1 px-4 py-4 space-y-2\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon;\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  to={item.href}\r\n                  className={`flex items-center px-3 py-2 text-sm font-medium rounded-md ${\r\n                    isActive(item.href)\r\n                      ? isDarkMode ? 'bg-blue-600 text-white' : 'bg-blue-100 text-blue-700'\r\n                      : isDarkMode ? 'text-gray-300 hover:bg-gray-700 hover:text-white' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                  }`}\r\n                >\r\n                  <Icon className=\"mr-3 h-5 w-5\" />\r\n                  {item.name}\r\n                </Link>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <div className=\"lg:pl-64\">\r\n        {/* Top bar */}\r\n        <div className={`sticky top-0 z-40 flex h-16 items-center justify-between border-b px-4 lg:px-8 ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n          <button\r\n            onClick={() => setSidebarOpen(true)}\r\n            className={`lg:hidden ${isDarkMode ? 'text-gray-400 hover:text-gray-300' : 'text-gray-500 hover:text-gray-600'}`}\r\n          >\r\n            <Menu className=\"h-6 w-6\" />\r\n          </button>\r\n          \r\n          <div className=\"flex items-center space-x-4 ml-auto\">\r\n            {/* Search Button */}\r\n            <button\r\n              onClick={() => setShowSearch(true)}\r\n              className={`p-2 rounded-lg transition-colors ${isDarkMode ? 'text-gray-400 hover:text-gray-300 hover:bg-gray-700' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'}`}\r\n              title=\"Search\"\r\n            >\r\n              <Search className=\"h-5 w-5\" />\r\n            </button>\r\n\r\n            {/* Dark Mode Toggle */}\r\n            <button\r\n              onClick={toggleTheme}\r\n              className={`p-2 rounded-lg transition-colors ${isDarkMode ? 'text-gray-400 hover:text-gray-300 hover:bg-gray-700' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'}`}\r\n              title={isDarkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\r\n            >\r\n              {isDarkMode ? <Sun className=\"h-5 w-5 text-yellow-500\" /> : <Moon className=\"h-5 w-5\" />}\r\n            </button>\r\n\r\n            {/* Notifications */}\r\n            <div className=\"relative\">\r\n              <button className={`relative ${isDarkMode ? 'text-gray-400 hover:text-gray-300' : 'text-gray-400 hover:text-gray-600'}`} onClick={() => setShowNotif(!showNotif)}>\r\n                <Bell className=\"h-6 w-6\" />\r\n                {notifications.length > 0 && (\r\n                  <span className=\"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-medium leading-none text-white bg-red-600 rounded-full\">\r\n                    {Math.min(notifications.length, 9)}+\r\n                  </span>\r\n                )}\r\n              </button>\r\n              {showNotif && (\r\n                <div className={`absolute right-0 mt-2 w-96 max-h-96 overflow-y-auto border rounded-xl shadow-2xl z-50 ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n                  <div className={`p-4 border-b flex items-center justify-between ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className={`p-2 rounded-lg ${isDarkMode ? 'bg-blue-600' : 'bg-blue-100'}`}>\r\n                        <Bell className={`h-4 w-4 ${isDarkMode ? 'text-white' : 'text-blue-600'}`} />\r\n                      </div>\r\n                      <div>\r\n                        <div className={`font-bold text-lg ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Notifications</div>\r\n                        <div className={`text-xs ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                          {notifications.length} {notifications.length === 1 ? 'notification' : 'notifications'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      className={`px-3 py-1 text-xs rounded-lg font-medium transition-colors ${isDarkMode ? 'bg-red-600 text-white hover:bg-red-700' : 'bg-red-100 text-red-700 hover:bg-red-200'}`}\r\n                      onClick={() => {\r\n                        const now = Date.now();\r\n                        window.localStorage.setItem('tf_cleared_at', String(now));\r\n                        setClearedAt(now);\r\n                      }}\r\n                    >\r\n                      Clear All\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"p-3 space-y-3\">\r\n                    {notifications.length === 0 ? (\r\n                      <div className={`p-8 text-center ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                        <Bell className={`h-12 w-12 mx-auto mb-3 ${isDarkMode ? 'text-gray-600' : 'text-gray-300'}`} />\r\n                        <p className=\"text-sm font-medium\">No notifications</p>\r\n                        <p className=\"text-xs mt-1\">You're all caught up!</p>\r\n                      </div>\r\n                    ) : (\r\n                      notifications.slice(0, 20).map((n) => (\r\n                        <div key={`${n.type}-${n.id}`} className={`group p-4 rounded-xl border transition-all duration-200 hover:shadow-md ${isDarkMode ? 'bg-gray-700 border-gray-600 hover:bg-gray-600' : 'bg-gray-50 border-gray-100 hover:bg-white'}`}>\r\n                          <div className=\"flex items-start justify-between\">\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <div className=\"flex items-center gap-2 mb-2\">\r\n                                <span className={`px-2 py-1 rounded-full text-xs font-semibold ${n.type === 'activity' ? (isDarkMode ? 'bg-blue-600 text-blue-100' : 'bg-blue-100 text-blue-700') : (n.type === 'due_soon' ? (isDarkMode ? 'bg-yellow-600 text-yellow-100' : 'bg-yellow-100 text-yellow-700') : (isDarkMode ? 'bg-green-600 text-green-100' : 'bg-green-100 text-green-700'))}`}>\r\n                                  {n.type === 'activity' ? 'Activity' : (n.type === 'due_soon' ? 'Due Soon' : 'Message')}\r\n                                </span>\r\n                                <span className={`text-xs ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                                  {new Date(n.created_at).toLocaleDateString()} {new Date(n.created_at).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\r\n                                </span>\r\n                              </div>\r\n                              <div className={`text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                                {n.type === 'activity' ? (\r\n                                  <>\r\n                                    <p className=\"font-medium line-clamp-2\">{n.description}</p>\r\n                                    {n.task_title && (<p className={`text-xs mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>Task: {n.task_title}</p>)}\r\n                                  </>\r\n                                ) : n.type === 'due_soon' ? (\r\n                                  <>\r\n                                    <p className=\"font-medium line-clamp-2\">{n.content}</p>\r\n                                    {n.project_name && (<p className={`text-xs mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>Project: {n.project_name}</p>)}\r\n                                  </>\r\n                                ) : (\r\n                                  <>\r\n                                    <p className=\"font-medium line-clamp-2\">{n.content}</p>\r\n                                    <p className={`text-xs mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>From: {n.author_name}{n.project_name ? ` â€¢ ${n.project_name}` : ''}</p>\r\n                                  </>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                            <button\r\n                              onClick={() => clearIndividualNotification(n)}\r\n                              className={`ml-2 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 ${isDarkMode ? 'text-gray-400 hover:text-gray-300 hover:bg-gray-600' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-200'}`}\r\n                              title=\"Clear notification\"\r\n                            >\r\n                              <X className=\"h-4 w-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"text-right\">\r\n                <p className={`text-sm font-medium ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>{user?.first_name ? `${user.first_name} ${user.last_name || ''}`.trim() : (user?.username || '')}</p>\r\n                <p className={`text-xs capitalize ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>{user?.role?.replace('_', ' ')}</p>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-2\">\r\n                <Link\r\n                  to=\"/profile\"\r\n                  className={`${isDarkMode ? 'text-gray-400 hover:text-gray-300' : 'text-gray-400 hover:text-gray-600'}`}\r\n                >\r\n                  <User className=\"h-6 w-6\" />\r\n                </Link>\r\n                <button\r\n                  onClick={() => setShowLogoutModal(true)}\r\n                  className={`${isDarkMode ? 'text-gray-400 hover:text-gray-300' : 'text-gray-400 hover:text-gray-600'}`}\r\n                  title=\"Logout\"\r\n                >\r\n                  <LogOut className=\"h-6 w-6\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Page content */}\r\n        <main className={`p-4 lg:p-8 ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n          {children}\r\n        </main>\r\n\r\n        {/* Logout Confirmation Modal (in-page) */}\r\n        {showLogoutModal && (\r\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <div className=\"absolute inset-0 bg-gray-900/40\" onClick={() => setShowLogoutModal(false)} />\r\n            <div className={`relative rounded-lg shadow-xl w-full max-w-md p-6 ${isDarkMode ? 'bg-gray-800' : 'bg-white'}`}>\r\n              <h3 className={`text-lg font-semibold mb-2 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Confirm Logout</h3>\r\n              <p className={`text-sm mb-4 ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>For security, please enter your password to logout.</p>\r\n              <input\r\n                type=\"password\"\r\n                className={`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'border-gray-300'}`}\r\n                placeholder=\"Enter your password\"\r\n                value={logoutPassword}\r\n                onChange={(e) => setLogoutPassword(e.target.value)}\r\n              />\r\n              <div className=\"mt-4 flex justify-end gap-2\">\r\n                <button\r\n                  className={`px-4 py-2 text-sm rounded-md border ${isDarkMode ? 'border-gray-600 text-gray-300 hover:bg-gray-700' : 'border-gray-300 text-gray-700 hover:bg-gray-50'}`}\r\n                  onClick={() => {\r\n                    setShowLogoutModal(false);\r\n                    setLogoutPassword('');\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  className={`px-4 py-2 text-sm rounded-md text-white ${logoutPassword ? 'bg-red-600 hover:bg-red-700' : 'bg-red-300 cursor-not-allowed'}`}\r\n                  disabled={!logoutPassword}\r\n                  onClick={() => {\r\n                    // Optionally verify password with backend before logout\r\n                    logout();\r\n                    setShowLogoutModal(false);\r\n                    setLogoutPassword('');\r\n                  }}\r\n                >\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Search Modal */}\r\n        {showSearch && (\r\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <div className=\"absolute inset-0 bg-black bg-opacity-50\" onClick={() => setShowSearch(false)} />\r\n            <div className={`relative w-full max-w-2xl mx-4 rounded-2xl shadow-2xl ${isDarkMode ? 'bg-gray-800' : 'bg-white'}`}>\r\n              <div className={`p-6 border-b ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className={`p-3 rounded-xl ${isDarkMode ? 'bg-blue-600' : 'bg-blue-100'}`}>\r\n                    <Search className={`h-6 w-6 ${isDarkMode ? 'text-white' : 'text-blue-600'}`} />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className={`text-2xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Search</h2>\r\n                    <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>Search across all your data</p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() => setShowSearch(false)}\r\n                  className={`absolute top-4 right-4 p-2 rounded-lg ${isDarkMode ? 'text-gray-400 hover:text-gray-300 hover:bg-gray-700' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'}`}\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <div className=\"relative\">\r\n                  <Search className={`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search tasks, projects, users...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className={`w-full pl-10 pr-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'border-gray-300'}`}\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n                <div className=\"mt-6\">\r\n                  <div className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                    Search functionality will be implemented with backend integration\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAChD,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,QAAQ,KAAQ,oBAAoB,CAC7C,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,QAAQ,KAAQ,6BAA6B,CACtD,OACEC,eAAe,CACfC,WAAW,CACXC,MAAM,CACNC,UAAU,CACVC,KAAK,CACLC,IAAI,CACJC,MAAM,CACNC,IAAI,CACJC,CAAC,CACDC,IAAI,CACJC,IAAI,CACJC,GAAG,CACHC,MAAM,KACD,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAkB,KAAAC,eAAA,CAAAC,UAAA,IAAjB,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAC1B,KAAM,CAAEI,IAAI,CAAEC,MAAO,CAAC,CAAG3B,OAAO,CAAC,CAAC,CAClC,KAAM,CAAE4B,UAAU,CAAEC,WAAY,CAAC,CAAG5B,QAAQ,CAAC,CAAC,CAC9C,KAAM,CAAA6B,QAAQ,CAAG/B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACgC,WAAW,CAAEC,cAAc,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACsC,eAAe,CAAEC,kBAAkB,CAAC,CAAGvC,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACwC,cAAc,CAAEC,iBAAiB,CAAC,CAAGzC,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAC0C,SAAS,CAAEC,YAAY,CAAC,CAAG3C,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC4C,UAAU,CAAEC,aAAa,CAAC,CAAG7C,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAC8C,WAAW,CAAEC,cAAc,CAAC,CAAG/C,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAEgD,IAAI,CAAEC,SAAU,CAAC,CAAGhD,QAAQ,CAClC,eAAe,CACfC,QAAQ,CAACgD,gBAAgB,CACzB,CAAEC,eAAe,CAAE,KAAM,CAC3B,CAAC,CACD,KAAM,CAAAC,gBAAgB,CAAG,CAAAH,SAAS,SAATA,SAAS,kBAAArB,eAAA,CAATqB,SAAS,CAAED,IAAI,UAAApB,eAAA,iBAAfA,eAAA,CAAiByB,KAAK,IAAIJ,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEI,KAAK,GAAI,EAAE,CACzE,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGvD,QAAQ,CAAC,IAAMwD,MAAM,CAACC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,CAAC,CAAC,CAAC,CAC3G,KAAM,CAACC,oBAAoB,CAAEC,uBAAuB,CAAC,CAAG7D,QAAQ,CAAC,IAAM,CACrE,KAAM,CAAA8D,MAAM,CAAGL,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,0BAA0B,CAAC,CACtE,MAAO,CAAAG,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACF,MAAM,CAAC,CAAG,EAAE,CACzC,CAAC,CAAC,CAEF,KAAM,CAAAG,aAAa,CAAGlE,OAAO,CAAC,IAAM,CAClC,GAAI,CAAAmE,QAAQ,CAAGd,gBAAgB,EAAI,EAAE,CAErC;AACA,GAAIE,SAAS,CAAE,CACbY,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAAEC,CAAC,EAAK,GAAI,CAAAC,IAAI,CAACD,CAAC,CAACE,UAAU,CAAC,CAACC,OAAO,CAAC,CAAC,CAAGjB,SAAS,CAAC,CACjF,CAEA;AACAY,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAAEC,CAAC,EAAK,CAACR,oBAAoB,CAACY,QAAQ,IAAAC,MAAA,CAAIL,CAAC,CAACM,IAAI,MAAAD,MAAA,CAAIL,CAAC,CAACO,EAAE,CAAE,CAAC,CAAC,CAEtF,MAAO,CAAAT,QAAQ,CACjB,CAAC,CAAE,CAACd,gBAAgB,CAAEE,SAAS,CAAEM,oBAAoB,CAAC,CAAC,CAEvD,KAAM,CAAAgB,2BAA2B,CAAIC,YAAY,EAAK,CACpD,KAAM,CAAAC,cAAc,IAAAL,MAAA,CAAMI,YAAY,CAACH,IAAI,MAAAD,MAAA,CAAII,YAAY,CAACF,EAAE,CAAE,CAChE,KAAM,CAAAI,UAAU,CAAG,CAAC,GAAGnB,oBAAoB,CAAEkB,cAAc,CAAC,CAC5DjB,uBAAuB,CAACkB,UAAU,CAAC,CACnCtB,MAAM,CAACC,YAAY,CAACsB,OAAO,CAAC,0BAA0B,CAAEjB,IAAI,CAACkB,SAAS,CAACF,UAAU,CAAC,CAAC,CACrF,CAAC,CAED,KAAM,CAAAG,UAAU,CAAG,CACjB,CAAEC,IAAI,CAAE,WAAW,CAAEC,IAAI,CAAE,YAAY,CAAEC,IAAI,CAAE9E,eAAgB,CAAC,CAChE,CAAE4E,IAAI,CAAE,OAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEC,IAAI,CAAE7E,WAAY,CAAC,CACpD,CAAE2E,IAAI,CAAE,QAAQ,CAAEC,IAAI,CAAE,SAAS,CAAEC,IAAI,CAAE5E,MAAO,CAAC,CACjD,CAAE0E,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,WAAW,CAAEC,IAAI,CAAE3E,UAAW,CAAC,CACzD,IAAI,CAAAqB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuD,IAAI,IAAK,cAAc,CAAG,CAAC,CAAEH,IAAI,CAAE,OAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEC,IAAI,CAAE1E,KAAM,CAAC,CAAC,CAAG,EAAE,CAAC,CAC3F,CAED,KAAM,CAAA4E,QAAQ,CAAIC,IAAI,EAAKrD,QAAQ,CAACsD,QAAQ,GAAKD,IAAI,CAErD,mBACEjE,KAAA,QAAKmE,SAAS,iBAAAjB,MAAA,CAAkBxC,UAAU,CAAG,kBAAkB,CAAG,YAAY,CAAG,CAAAH,QAAA,eAE/EP,KAAA,QAAKmE,SAAS,iCAAAjB,MAAA,CAAkCrC,WAAW,CAAG,OAAO,CAAG,QAAQ,CAAG,CAAAN,QAAA,eACjFT,IAAA,QAAKqE,SAAS,CAAC,yCAAyC,CAACC,OAAO,CAAEA,CAAA,GAAMtD,cAAc,CAAC,KAAK,CAAE,CAAE,CAAC,cACjGd,KAAA,QAAKmE,SAAS,wDAAAjB,MAAA,CAAyDxC,UAAU,CAAG,aAAa,CAAG,UAAU,CAAG,CAAAH,QAAA,eAC/GP,KAAA,QAAKmE,SAAS,CAAC,6CAA6C,CAAA5D,QAAA,eAC1DT,IAAA,OAAIqE,SAAS,sBAAAjB,MAAA,CAAuBxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,UAAQ,CAAI,CAAC,cAChGT,IAAA,WACEsE,OAAO,CAAEA,CAAA,GAAMtD,cAAc,CAAC,KAAK,CAAE,CACrCqD,SAAS,CAAC,mCAAmC,CAAA5D,QAAA,cAE7CT,IAAA,CAACN,CAAC,EAAC2E,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACN,CAAC,cACNrE,IAAA,QAAKqE,SAAS,CAAC,4BAA4B,CAAA5D,QAAA,CACxCoD,UAAU,CAACU,GAAG,CAAEC,IAAI,EAAK,CACxB,KAAM,CAAAC,IAAI,CAAGD,IAAI,CAACR,IAAI,CACtB,mBACE9D,KAAA,CAACpB,IAAI,EAEH4F,EAAE,CAAEF,IAAI,CAACT,IAAK,CACdM,SAAS,+DAAAjB,MAAA,CACPc,QAAQ,CAACM,IAAI,CAACT,IAAI,CAAC,CACfnD,UAAU,CAAG,wBAAwB,CAAG,2BAA2B,CACnEA,UAAU,CAAG,kDAAkD,CAAG,oDAAoD,CACzH,CACH0D,OAAO,CAAEA,CAAA,GAAMtD,cAAc,CAAC,KAAK,CAAE,CAAAP,QAAA,eAErCT,IAAA,CAACyE,IAAI,EAACJ,SAAS,CAAC,cAAc,CAAE,CAAC,CAChCG,IAAI,CAACV,IAAI,GAVLU,IAAI,CAACV,IAWN,CAAC,CAEX,CAAC,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,cAGN9D,IAAA,QAAKqE,SAAS,CAAC,0DAA0D,CAAA5D,QAAA,cACvEP,KAAA,QAAKmE,SAAS,qCAAAjB,MAAA,CAAsCxC,UAAU,CAAG,6BAA6B,CAAG,0BAA0B,CAAG,CAAAH,QAAA,eAC5HT,IAAA,QAAKqE,SAAS,CAAC,6BAA6B,CAAA5D,QAAA,cAC1CT,IAAA,OAAIqE,SAAS,sBAAAjB,MAAA,CAAuBxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,UAAQ,CAAI,CAAC,CAC7F,CAAC,cACNT,IAAA,QAAKqE,SAAS,CAAC,4BAA4B,CAAA5D,QAAA,CACxCoD,UAAU,CAACU,GAAG,CAAEC,IAAI,EAAK,CACxB,KAAM,CAAAC,IAAI,CAAGD,IAAI,CAACR,IAAI,CACtB,mBACE9D,KAAA,CAACpB,IAAI,EAEH4F,EAAE,CAAEF,IAAI,CAACT,IAAK,CACdM,SAAS,+DAAAjB,MAAA,CACPc,QAAQ,CAACM,IAAI,CAACT,IAAI,CAAC,CACfnD,UAAU,CAAG,wBAAwB,CAAG,2BAA2B,CACnEA,UAAU,CAAG,kDAAkD,CAAG,oDAAoD,CACzH,CAAAH,QAAA,eAEHT,IAAA,CAACyE,IAAI,EAACJ,SAAS,CAAC,cAAc,CAAE,CAAC,CAChCG,IAAI,CAACV,IAAI,GATLU,IAAI,CAACV,IAUN,CAAC,CAEX,CAAC,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,cAGN5D,KAAA,QAAKmE,SAAS,CAAC,UAAU,CAAA5D,QAAA,eAEvBP,KAAA,QAAKmE,SAAS,mFAAAjB,MAAA,CAAoFxC,UAAU,CAAG,6BAA6B,CAAG,0BAA0B,CAAG,CAAAH,QAAA,eAC1KT,IAAA,WACEsE,OAAO,CAAEA,CAAA,GAAMtD,cAAc,CAAC,IAAI,CAAE,CACpCqD,SAAS,cAAAjB,MAAA,CAAexC,UAAU,CAAG,mCAAmC,CAAG,mCAAmC,CAAG,CAAAH,QAAA,cAEjHT,IAAA,CAACP,IAAI,EAAC4E,SAAS,CAAC,SAAS,CAAE,CAAC,CACtB,CAAC,cAETnE,KAAA,QAAKmE,SAAS,CAAC,qCAAqC,CAAA5D,QAAA,eAElDT,IAAA,WACEsE,OAAO,CAAEA,CAAA,GAAM9C,aAAa,CAAC,IAAI,CAAE,CACnC6C,SAAS,qCAAAjB,MAAA,CAAsCxC,UAAU,CAAG,qDAAqD,CAAG,qDAAqD,CAAG,CAC5K+D,KAAK,CAAC,QAAQ,CAAAlE,QAAA,cAEdT,IAAA,CAACF,MAAM,EAACuE,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,cAGTrE,IAAA,WACEsE,OAAO,CAAEzD,WAAY,CACrBwD,SAAS,qCAAAjB,MAAA,CAAsCxC,UAAU,CAAG,qDAAqD,CAAG,qDAAqD,CAAG,CAC5K+D,KAAK,CAAE/D,UAAU,CAAG,sBAAsB,CAAG,qBAAsB,CAAAH,QAAA,CAElEG,UAAU,cAAGZ,IAAA,CAACH,GAAG,EAACwE,SAAS,CAAC,yBAAyB,CAAE,CAAC,cAAGrE,IAAA,CAACJ,IAAI,EAACyE,SAAS,CAAC,SAAS,CAAE,CAAC,CAClF,CAAC,cAGTnE,KAAA,QAAKmE,SAAS,CAAC,UAAU,CAAA5D,QAAA,eACvBP,KAAA,WAAQmE,SAAS,aAAAjB,MAAA,CAAcxC,UAAU,CAAG,mCAAmC,CAAG,mCAAmC,CAAG,CAAC0D,OAAO,CAAEA,CAAA,GAAMhD,YAAY,CAAC,CAACD,SAAS,CAAE,CAAAZ,QAAA,eAC/JT,IAAA,CAACL,IAAI,EAAC0E,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3BzB,aAAa,CAACgC,MAAM,CAAG,CAAC,eACvB1E,KAAA,SAAMmE,SAAS,CAAC,wJAAwJ,CAAA5D,QAAA,EACrKoE,IAAI,CAACC,GAAG,CAAClC,aAAa,CAACgC,MAAM,CAAE,CAAC,CAAC,CAAC,GACrC,EAAM,CACP,EACK,CAAC,CACRvD,SAAS,eACRnB,KAAA,QAAKmE,SAAS,0FAAAjB,MAAA,CAA2FxC,UAAU,CAAG,6BAA6B,CAAG,0BAA0B,CAAG,CAAAH,QAAA,eACjLP,KAAA,QAAKmE,SAAS,mDAAAjB,MAAA,CAAoDxC,UAAU,CAAG,iBAAiB,CAAG,iBAAiB,CAAG,CAAAH,QAAA,eACrHP,KAAA,QAAKmE,SAAS,CAAC,yBAAyB,CAAA5D,QAAA,eACtCT,IAAA,QAAKqE,SAAS,mBAAAjB,MAAA,CAAoBxC,UAAU,CAAG,aAAa,CAAG,aAAa,CAAG,CAAAH,QAAA,cAC7ET,IAAA,CAACL,IAAI,EAAC0E,SAAS,YAAAjB,MAAA,CAAaxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAE,CAAC,CAC1E,CAAC,cACNV,KAAA,QAAAO,QAAA,eACET,IAAA,QAAKqE,SAAS,sBAAAjB,MAAA,CAAuBxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,eAAa,CAAK,CAAC,cACvGP,KAAA,QAAKmE,SAAS,YAAAjB,MAAA,CAAaxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,EACzEmC,aAAa,CAACgC,MAAM,CAAC,GAAC,CAAChC,aAAa,CAACgC,MAAM,GAAK,CAAC,CAAG,cAAc,CAAG,eAAe,EAClF,CAAC,EACH,CAAC,EACH,CAAC,cACN5E,IAAA,WACEqE,SAAS,+DAAAjB,MAAA,CAAgExC,UAAU,CAAG,wCAAwC,CAAG,0CAA0C,CAAG,CAC9K0D,OAAO,CAAEA,CAAA,GAAM,CACb,KAAM,CAAAS,GAAG,CAAG/B,IAAI,CAAC+B,GAAG,CAAC,CAAC,CACtB3C,MAAM,CAACC,YAAY,CAACsB,OAAO,CAAC,eAAe,CAAEqB,MAAM,CAACD,GAAG,CAAC,CAAC,CACzD7C,YAAY,CAAC6C,GAAG,CAAC,CACnB,CAAE,CAAAtE,QAAA,CACH,WAED,CAAQ,CAAC,EACN,CAAC,cACNT,IAAA,QAAKqE,SAAS,CAAC,eAAe,CAAA5D,QAAA,CAC3BmC,aAAa,CAACgC,MAAM,GAAK,CAAC,cACzB1E,KAAA,QAAKmE,SAAS,oBAAAjB,MAAA,CAAqBxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,eAClFT,IAAA,CAACL,IAAI,EAAC0E,SAAS,2BAAAjB,MAAA,CAA4BxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAE,CAAC,cAC/FZ,IAAA,MAAGqE,SAAS,CAAC,qBAAqB,CAAA5D,QAAA,CAAC,kBAAgB,CAAG,CAAC,cACvDT,IAAA,MAAGqE,SAAS,CAAC,cAAc,CAAA5D,QAAA,CAAC,uBAAqB,CAAG,CAAC,EAClD,CAAC,CAENmC,aAAa,CAACqC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACV,GAAG,CAAExB,CAAC,eAC/B/C,IAAA,QAA+BqE,SAAS,4EAAAjB,MAAA,CAA6ExC,UAAU,CAAG,+CAA+C,CAAG,2CAA2C,CAAG,CAAAH,QAAA,cAChOP,KAAA,QAAKmE,SAAS,CAAC,kCAAkC,CAAA5D,QAAA,eAC/CP,KAAA,QAAKmE,SAAS,CAAC,gBAAgB,CAAA5D,QAAA,eAC7BP,KAAA,QAAKmE,SAAS,CAAC,8BAA8B,CAAA5D,QAAA,eAC3CT,IAAA,SAAMqE,SAAS,iDAAAjB,MAAA,CAAkDL,CAAC,CAACM,IAAI,GAAK,UAAU,CAAIzC,UAAU,CAAG,2BAA2B,CAAG,2BAA2B,CAAKmC,CAAC,CAACM,IAAI,GAAK,UAAU,CAAIzC,UAAU,CAAG,+BAA+B,CAAG,+BAA+B,CAAKA,UAAU,CAAG,6BAA6B,CAAG,6BAA+B,CAAG,CAAAH,QAAA,CAC7VsC,CAAC,CAACM,IAAI,GAAK,UAAU,CAAG,UAAU,CAAIN,CAAC,CAACM,IAAI,GAAK,UAAU,CAAG,UAAU,CAAG,SAAU,CAClF,CAAC,cACPnD,KAAA,SAAMmE,SAAS,YAAAjB,MAAA,CAAaxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,EAC1E,GAAI,CAAAuC,IAAI,CAACD,CAAC,CAACE,UAAU,CAAC,CAACiC,kBAAkB,CAAC,CAAC,CAAC,GAAC,CAAC,GAAI,CAAAlC,IAAI,CAACD,CAAC,CAACE,UAAU,CAAC,CAACkC,kBAAkB,CAAC,EAAE,CAAE,CAACC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAC,SAAS,CAAC,CAAC,EAC7H,CAAC,EACJ,CAAC,cACNrF,IAAA,QAAKqE,SAAS,YAAAjB,MAAA,CAAaxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAH,QAAA,CACtEsC,CAAC,CAACM,IAAI,GAAK,UAAU,cACpBnD,KAAA,CAAAE,SAAA,EAAAK,QAAA,eACET,IAAA,MAAGqE,SAAS,CAAC,0BAA0B,CAAA5D,QAAA,CAAEsC,CAAC,CAACuC,WAAW,CAAI,CAAC,CAC1DvC,CAAC,CAACwC,UAAU,eAAKrF,KAAA,MAAGmE,SAAS,iBAAAjB,MAAA,CAAkBxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,EAAC,QAAM,CAACsC,CAAC,CAACwC,UAAU,EAAI,CAAE,EAC3H,CAAC,CACDxC,CAAC,CAACM,IAAI,GAAK,UAAU,cACvBnD,KAAA,CAAAE,SAAA,EAAAK,QAAA,eACET,IAAA,MAAGqE,SAAS,CAAC,0BAA0B,CAAA5D,QAAA,CAAEsC,CAAC,CAACyC,OAAO,CAAI,CAAC,CACtDzC,CAAC,CAAC0C,YAAY,eAAKvF,KAAA,MAAGmE,SAAS,iBAAAjB,MAAA,CAAkBxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,EAAC,WAAS,CAACsC,CAAC,CAAC0C,YAAY,EAAI,CAAE,EAClI,CAAC,cAEHvF,KAAA,CAAAE,SAAA,EAAAK,QAAA,eACET,IAAA,MAAGqE,SAAS,CAAC,0BAA0B,CAAA5D,QAAA,CAAEsC,CAAC,CAACyC,OAAO,CAAI,CAAC,cACvDtF,KAAA,MAAGmE,SAAS,iBAAAjB,MAAA,CAAkBxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,EAAC,QAAM,CAACsC,CAAC,CAAC2C,WAAW,CAAE3C,CAAC,CAAC0C,YAAY,YAAArC,MAAA,CAASL,CAAC,CAAC0C,YAAY,EAAK,EAAE,EAAI,CAAC,EACvJ,CACH,CACE,CAAC,EACH,CAAC,cACNzF,IAAA,WACEsE,OAAO,CAAEA,CAAA,GAAMf,2BAA2B,CAACR,CAAC,CAAE,CAC9CsB,SAAS,wFAAAjB,MAAA,CAAyFxC,UAAU,CAAG,qDAAqD,CAAG,qDAAqD,CAAG,CAC/N+D,KAAK,CAAC,oBAAoB,CAAAlE,QAAA,cAE1BT,IAAA,CAACN,CAAC,EAAC2E,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACN,CAAC,KAAAjB,MAAA,CArCKL,CAAC,CAACM,IAAI,MAAAD,MAAA,CAAIL,CAAC,CAACO,EAAE,CAsCtB,CACN,CACF,CACE,CAAC,EACH,CACN,EACE,CAAC,cAENpD,KAAA,QAAKmE,SAAS,CAAC,6BAA6B,CAAA5D,QAAA,eAC1CP,KAAA,QAAKmE,SAAS,CAAC,YAAY,CAAA5D,QAAA,eACzBT,IAAA,MAAGqE,SAAS,wBAAAjB,MAAA,CAAyBxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAEC,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEiF,UAAU,CAAG,GAAAvC,MAAA,CAAG1C,IAAI,CAACiF,UAAU,MAAAvC,MAAA,CAAI1C,IAAI,CAACkF,SAAS,EAAI,EAAE,EAAGC,IAAI,CAAC,CAAC,CAAI,CAAAnF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoF,QAAQ,GAAI,EAAG,CAAI,CAAC,cACzL9F,IAAA,MAAGqE,SAAS,uBAAAjB,MAAA,CAAwBxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAEC,IAAI,SAAJA,IAAI,kBAAAF,UAAA,CAAJE,IAAI,CAAEuD,IAAI,UAAAzD,UAAA,iBAAVA,UAAA,CAAYuF,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAAI,CAAC,EACtH,CAAC,cAEN7F,KAAA,QAAKmE,SAAS,CAAC,6BAA6B,CAAA5D,QAAA,eAC1CT,IAAA,CAAClB,IAAI,EACH4F,EAAE,CAAC,UAAU,CACbL,SAAS,IAAAjB,MAAA,CAAKxC,UAAU,CAAG,mCAAmC,CAAG,mCAAmC,CAAG,CAAAH,QAAA,cAEvGT,IAAA,CAACT,IAAI,EAAC8E,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,cACPrE,IAAA,WACEsE,OAAO,CAAEA,CAAA,GAAMpD,kBAAkB,CAAC,IAAI,CAAE,CACxCmD,SAAS,IAAAjB,MAAA,CAAKxC,UAAU,CAAG,mCAAmC,CAAG,mCAAmC,CAAG,CACvG+D,KAAK,CAAC,QAAQ,CAAAlE,QAAA,cAEdT,IAAA,CAACR,MAAM,EAAC6E,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGNrE,IAAA,SAAMqE,SAAS,eAAAjB,MAAA,CAAgBxC,UAAU,CAAG,aAAa,CAAG,YAAY,CAAG,CAAAH,QAAA,CACxEA,QAAQ,CACL,CAAC,CAGNQ,eAAe,eACdf,KAAA,QAAKmE,SAAS,CAAC,qDAAqD,CAAA5D,QAAA,eAClET,IAAA,QAAKqE,SAAS,CAAC,iCAAiC,CAACC,OAAO,CAAEA,CAAA,GAAMpD,kBAAkB,CAAC,KAAK,CAAE,CAAE,CAAC,cAC7FhB,KAAA,QAAKmE,SAAS,sDAAAjB,MAAA,CAAuDxC,UAAU,CAAG,aAAa,CAAG,UAAU,CAAG,CAAAH,QAAA,eAC7GT,IAAA,OAAIqE,SAAS,+BAAAjB,MAAA,CAAgCxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC/GT,IAAA,MAAGqE,SAAS,iBAAAjB,MAAA,CAAkBxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,qDAAmD,CAAG,CAAC,cACvIT,IAAA,UACEqD,IAAI,CAAC,UAAU,CACfgB,SAAS,2FAAAjB,MAAA,CAA4FxC,UAAU,CAAG,6DAA6D,CAAG,iBAAiB,CAAG,CACtMoF,WAAW,CAAC,qBAAqB,CACjCC,KAAK,CAAE9E,cAAe,CACtB+E,QAAQ,CAAGC,CAAC,EAAK/E,iBAAiB,CAAC+E,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACpD,CAAC,cACF/F,KAAA,QAAKmE,SAAS,CAAC,6BAA6B,CAAA5D,QAAA,eAC1CT,IAAA,WACEqE,SAAS,wCAAAjB,MAAA,CAAyCxC,UAAU,CAAG,iDAAiD,CAAG,gDAAgD,CAAG,CACtK0D,OAAO,CAAEA,CAAA,GAAM,CACbpD,kBAAkB,CAAC,KAAK,CAAC,CACzBE,iBAAiB,CAAC,EAAE,CAAC,CACvB,CAAE,CAAAX,QAAA,CACH,QAED,CAAQ,CAAC,cACTT,IAAA,WACEqE,SAAS,4CAAAjB,MAAA,CAA6CjC,cAAc,CAAG,6BAA6B,CAAG,+BAA+B,CAAG,CACzIkF,QAAQ,CAAE,CAAClF,cAAe,CAC1BmD,OAAO,CAAEA,CAAA,GAAM,CACb;AACA3D,MAAM,CAAC,CAAC,CACRO,kBAAkB,CAAC,KAAK,CAAC,CACzBE,iBAAiB,CAAC,EAAE,CAAC,CACvB,CAAE,CAAAX,QAAA,CACH,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CACN,CAGAc,UAAU,eACTrB,KAAA,QAAKmE,SAAS,CAAC,qDAAqD,CAAA5D,QAAA,eAClET,IAAA,QAAKqE,SAAS,CAAC,yCAAyC,CAACC,OAAO,CAAEA,CAAA,GAAM9C,aAAa,CAAC,KAAK,CAAE,CAAE,CAAC,cAChGtB,KAAA,QAAKmE,SAAS,0DAAAjB,MAAA,CAA2DxC,UAAU,CAAG,aAAa,CAAG,UAAU,CAAG,CAAAH,QAAA,eACjHP,KAAA,QAAKmE,SAAS,iBAAAjB,MAAA,CAAkBxC,UAAU,CAAG,iBAAiB,CAAG,iBAAiB,CAAG,CAAAH,QAAA,eACnFP,KAAA,QAAKmE,SAAS,CAAC,yBAAyB,CAAA5D,QAAA,eACtCT,IAAA,QAAKqE,SAAS,mBAAAjB,MAAA,CAAoBxC,UAAU,CAAG,aAAa,CAAG,aAAa,CAAG,CAAAH,QAAA,cAC7ET,IAAA,CAACF,MAAM,EAACuE,SAAS,YAAAjB,MAAA,CAAaxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAE,CAAC,CAC5E,CAAC,cACNV,KAAA,QAAAO,QAAA,eACET,IAAA,OAAIqE,SAAS,uBAAAjB,MAAA,CAAwBxC,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,QAAM,CAAI,CAAC,cAC/FT,IAAA,MAAGqE,SAAS,YAAAjB,MAAA,CAAaxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,6BAA2B,CAAG,CAAC,EACvG,CAAC,EACH,CAAC,cACNT,IAAA,WACEsE,OAAO,CAAEA,CAAA,GAAM9C,aAAa,CAAC,KAAK,CAAE,CACpC6C,SAAS,0CAAAjB,MAAA,CAA2CxC,UAAU,CAAG,qDAAqD,CAAG,qDAAqD,CAAG,CAAAH,QAAA,cAEjLT,IAAA,CAACN,CAAC,EAAC2E,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACN,CAAC,cACNnE,KAAA,QAAKmE,SAAS,CAAC,KAAK,CAAA5D,QAAA,eAClBP,KAAA,QAAKmE,SAAS,CAAC,UAAU,CAAA5D,QAAA,eACvBT,IAAA,CAACF,MAAM,EAACuE,SAAS,+DAAAjB,MAAA,CAAgExC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAE,CAAC,cACrIZ,IAAA,UACEqD,IAAI,CAAC,MAAM,CACX2C,WAAW,CAAC,kCAAkC,CAC9CC,KAAK,CAAExE,WAAY,CACnByE,QAAQ,CAAGC,CAAC,EAAKzE,cAAc,CAACyE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD5B,SAAS,iGAAAjB,MAAA,CAAkGxC,UAAU,CAAG,6DAA6D,CAAG,iBAAiB,CAAG,CAC5M0F,SAAS,MACV,CAAC,EACC,CAAC,cACNtG,IAAA,QAAKqE,SAAS,CAAC,MAAM,CAAA5D,QAAA,cACnBT,IAAA,QAAKqE,SAAS,YAAAjB,MAAA,CAAaxC,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAH,QAAA,CAAC,mEAE7E,CAAK,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}