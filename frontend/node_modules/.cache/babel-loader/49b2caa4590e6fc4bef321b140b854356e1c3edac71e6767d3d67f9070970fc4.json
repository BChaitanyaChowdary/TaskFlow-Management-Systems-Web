{"ast":null,"code":"import React,{useState}from'react';import{useQuery}from'react-query';import{useAuth}from'../../contexts/AuthContext';import{useTheme}from'../../contexts/ThemeContext';import{tasksAPI,projectsAPI}from'../../services/api';import Card from'../../components/UI/Card';import Badge from'../../components/UI/Badge';import LoadingSpinner from'../../components/UI/LoadingSpinner';import ProjectAnalytics from'../../components/Analytics/ProjectAnalytics';import TimeTracker from'../../components/TimeTracking/TimeTracker';import GlobalSearch from'../../components/Search/GlobalSearch';import NotificationCenter from'../../components/Notifications/NotificationCenter';import MobileMenu from'../../components/Navigation/MobileMenu';import TaskTemplateManager from'../../components/TaskTemplates/TaskTemplateManager';import{CheckSquare,CheckCircle,Clock,AlertCircle,Users,TrendingUp,BarChart3,Activity,Target,FolderOpen,Search,Moon,Sun,FileText,Upload,Bell,Settings,Timer,Play,Pause,Square,X}from'lucide-react';import{Bar,Doughnut}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement}from'chart.js';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement);const Dashboard=()=>{var _assignedProjectsResp,_smProjects$data6,_smProjects$data7,_smProjects$data8;const{user}=useAuth();const{isDarkMode,toggleTheme}=useTheme();const[selectedProjectId,setSelectedProjectId]=useState('');const[showAnalytics,setShowAnalytics]=useState(false);const[showSearch,setShowSearch]=useState(false);const[showNotifications,setShowNotifications]=useState(false);const[showMobileMenu,setShowMobileMenu]=useState(false);const[showTemplates,setShowTemplates]=useState(false);const[timeTrackingData,setTimeTrackingData]=useState([]);const{data:smProjects}=useQuery('smProjects',projectsAPI.getProjects,{enabled:(user===null||user===void 0?void 0:user.role)==='scrum_master'});// Employee: fetch assigned projects for dashboard\nconst{data:assignedProjectsResp,isLoading:assignedLoading,error:assignedError}=useQuery('assignedProjects',projectsAPI.getAssignedProjects,{enabled:(user===null||user===void 0?void 0:user.role)==='employee'});const{data:analyticsResp,isLoading,error}=useQuery(['taskAnalytics',user===null||user===void 0?void 0:user.role],async()=>{// Dashboard shows general analytics with charts\nconst res=await tasksAPI.getTaskAnalytics();return res.data||res;},{refetchInterval:30000,retry:false});const analytics=analyticsResp;// Separate query for project-specific analytics when a project is selected\nconst{data:projectSpecificAnalytics,isLoading:projectAnalyticsLoading}=useQuery(['projectSpecificAnalytics',selectedProjectId],async()=>{if(selectedProjectId){const res=await projectsAPI.getProjectAnalytics(selectedProjectId);return res.data||res;}return null;},{enabled:!!selectedProjectId&&showAnalytics,retry:false});// Use project-specific analytics only\nconst projectAnalytics=projectSpecificAnalytics;// Notifications are shown via the header bell; dashboard feed removed per request\n// Removed unused variables\n// Normalize assigned projects for employees\nconst assignedProjects=Array.isArray(assignedProjectsResp===null||assignedProjectsResp===void 0?void 0:assignedProjectsResp.data)?assignedProjectsResp.data:(assignedProjectsResp===null||assignedProjectsResp===void 0?void 0:(_assignedProjectsResp=assignedProjectsResp.data)===null||_assignedProjectsResp===void 0?void 0:_assignedProjectsResp.results)||[];if(isLoading||(user===null||user===void 0?void 0:user.role)==='employee'&&assignedLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:\"Failed to load dashboard data\"})});}if((user===null||user===void 0?void 0:user.role)==='employee'&&assignedError){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500\",children:[\"Failed to load assigned projects: \",assignedError.message]})});}const stats=[{name:'Total Tasks',value:(analytics===null||analytics===void 0?void 0:analytics.total_tasks)||0,icon:CheckSquare,color:'text-blue-600',bgColor:'bg-blue-50'},{name:'Completed',value:(analytics===null||analytics===void 0?void 0:analytics.completed_tasks)||0,icon:CheckSquare,color:'text-green-600',bgColor:'bg-green-50'},{name:'In Progress',value:(analytics===null||analytics===void 0?void 0:analytics.in_progress_tasks)||0,icon:Clock,color:'text-yellow-600',bgColor:'bg-yellow-50'},{name:'Overdue',value:(analytics===null||analytics===void 0?void 0:analytics.overdue_tasks)||0,icon:AlertCircle,color:'text-red-600',bgColor:'bg-red-50'}];// Chart data for tasks by status\nconst statusChartData={labels:['To Do','In Progress','Done'],datasets:[{data:[(analytics===null||analytics===void 0?void 0:analytics.todo_tasks)||0,(analytics===null||analytics===void 0?void 0:analytics.in_progress_tasks)||0,(analytics===null||analytics===void 0?void 0:analytics.completed_tasks)||0],backgroundColor:['#6b7280','#f59e0b','#10b981'],borderWidth:0}]};const statusChartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom'}}};// Chart data for tasks by priority\nconst priorityItems=Array.isArray(analytics===null||analytics===void 0?void 0:analytics.tasks_by_priority)?analytics.tasks_by_priority:[];const priorityChartData={labels:priorityItems.map(item=>(item.priority||'').toString().charAt(0).toUpperCase()+(item.priority||'').toString().slice(1)),datasets:[{label:'Tasks',data:priorityItems.map(item=>item.count||0),backgroundColor:['#ef4444','#f59e0b','#3b82f6','#10b981'],borderWidth:0}]};const priorityChartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom'}},scales:{y:{beginAtZero:true,ticks:{stepSize:1}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-2xl p-8 border border-blue-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl shadow-lg\",children:/*#__PURE__*/_jsx(Activity,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-bold text-gradient-blue mb-2\",children:[\"Welcome back, \",(user===null||user===void 0?void 0:user.first_name)||(user===null||user===void 0?void 0:user.username),\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600\",children:\"Here's what's happening with your tasks today.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMobileMenu(true),className:\"lg:hidden p-2 bg-gray-100 hover:bg-gray-200 rounded-lg\",children:/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 text-gray-600\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSearch(true),className:\"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(true),className:\"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg relative\",children:[/*#__PURE__*/_jsx(Bell,{className:\"h-5 w-5 text-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleTheme,className:\"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg\",children:isDarkMode?/*#__PURE__*/_jsx(Sun,{className:\"h-5 w-5 text-yellow-600\"}):/*#__PURE__*/_jsx(Moon,{className:\"h-5 w-5 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTemplates(true),className:\"px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4\"}),\"Templates\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/tasks',className:\"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),\"View Tasks\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/kanban',className:\"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-4 w-4\"}),\"Kanban Board\"]})]})]})}),(user===null||user===void 0?void 0:user.role)==='scrum_master'&&/*#__PURE__*/_jsxs(Card,{className:\"p-8 shadow-xl border-0 bg-gradient-to-br from-white to-blue-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center justify-between mb-8 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"Projects Overview\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Manage and monitor your projects\",(_smProjects$data=>{const list=Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data:(smProjects===null||smProjects===void 0?void 0:(_smProjects$data=smProjects.data)===null||_smProjects$data===void 0?void 0:_smProjects$data.results)||[];return list.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\",children:[list.length,\" \",list.length===1?'project':'projects']});})()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Filter by project:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"border-2 border-blue-200 rounded-xl px-4 py-2 text-sm bg-white/80 backdrop-blur-sm focus:border-blue-500 focus:outline-none transition-all duration-200\",value:selectedProjectId,onChange:e=>{setSelectedProjectId(e.target.value);if(e.target.value){setShowAnalytics(true);}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All projects\"}),(_smProjects$data2=>{const list=Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data:(smProjects===null||smProjects===void 0?void 0:(_smProjects$data2=smProjects.data)===null||_smProjects$data2===void 0?void 0:_smProjects$data2.results)||[];return list.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p.id,children:p.name},p.id));})()]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:(_smProjects$data3=>{const list=Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data:(smProjects===null||smProjects===void 0?void 0:(_smProjects$data3=smProjects.data)===null||_smProjects$data3===void 0?void 0:_smProjects$data3.results)||[];const displayProjects=list.slice(0,6);// Show only first 6 projects\nif(!list.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full text-center text-gray-500 py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-8 w-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"No projects yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Create your first project to get started\"})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[displayProjects.map(p=>/*#__PURE__*/_jsx(Card,{className:\"h-full flex flex-col hover-lift transition-all duration-300 \".concat(String(selectedProjectId)===String(p.id)?'ring-2 ring-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50':'bg-white'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 flex-1 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl \".concat(String(selectedProjectId)===String(p.id)?'bg-blue-600':'bg-gradient-to-r from-blue-500 to-indigo-500'),children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-lg text-gray-900\",children:p.name}),p.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1 line-clamp-2\",children:p.description})]})]}),/*#__PURE__*/_jsxs(Badge,{variant:\"primary\",className:\"text-xs flex-shrink-0\",children:[p.task_count||0,\" tasks\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700\",children:[p.member_count||0,\" members\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700\",children:[p.progress_percentage||0,\"% complete\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{children:[p.progress_percentage||0,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full bg-gradient-to-r from-blue-500 via-indigo-500 to-green-500 transition-all duration-500 ease-out\",style:{width:\"\".concat(p.progress_percentage||0,\"%\")}})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedProjectId(String(p.id));setShowAnalytics(true);},className:\"w-full text-sm font-semibold px-4 py-3 rounded-xl transition-all duration-200 mt-4 \".concat(String(selectedProjectId)===String(p.id)&&showAnalytics?'bg-blue-600 text-white shadow-lg':'bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 hover:from-blue-100 hover:to-indigo-100 hover:shadow-md'),children:String(selectedProjectId)===String(p.id)&&showAnalytics?'✓ Analytics Shown':'View Analytics'})]})]})},p.id)),list.length>6&&/*#__PURE__*/_jsx(\"div\",{className:\"col-span-full flex justify-center mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/projects',className:\"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FolderOpen,{className:\"h-5 w-5\"}),\"View All Projects (\",list.length,\")\"]})})]});})()})]}),(user===null||user===void 0?void 0:user.role)==='employee'&&/*#__PURE__*/_jsxs(Card,{className:\"p-8 shadow-xl border-0 bg-gradient-to-br from-white to-green-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center justify-between mb-8 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"My Projects\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"View and manage your assigned projects\",assignedProjects.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold\",children:[assignedProjects.length,\" \",assignedProjects.length===1?'project':'projects']})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Filter by project:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"border-2 border-green-200 rounded-xl px-4 py-2 text-sm bg-white/80 backdrop-blur-sm focus:border-green-500 focus:outline-none transition-all duration-200\",value:selectedProjectId,onChange:e=>{setSelectedProjectId(e.target.value);if(e.target.value){setShowAnalytics(true);}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All projects\"}),assignedProjects.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p.id,children:p.name},p.id))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:assignedProjects.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full text-center text-gray-500 py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-8 w-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"No projects assigned yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Contact your Scrum Master to be added to a project\"})]}):assignedProjects.map(p=>/*#__PURE__*/_jsx(Card,{className:\"h-full flex flex-col hover-lift transition-all duration-300 \".concat(String(selectedProjectId)===String(p.id)?'ring-2 ring-green-500 bg-gradient-to-br from-green-50 to-emerald-50':'bg-white'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 flex-1 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl \".concat(String(selectedProjectId)===String(p.id)?'bg-green-600':'bg-gradient-to-r from-green-500 to-emerald-500'),children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-lg text-gray-900\",children:p.name}),p.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1 line-clamp-2\",children:p.description})]})]}),/*#__PURE__*/_jsxs(Badge,{variant:\"primary\",className:\"text-xs flex-shrink-0\",children:[p.task_count||0,\" tasks\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700\",children:[p.member_count||0,\" members\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-gray-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700\",children:[p.progress_percentage||0,\"% complete\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-600\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{children:[p.progress_percentage||0,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 transition-all duration-500 ease-out\",style:{width:\"\".concat(p.progress_percentage||0,\"%\")}})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedProjectId(String(p.id));setShowAnalytics(true);},className:\"w-full text-sm font-semibold px-4 py-3 rounded-xl transition-all duration-200 mt-4 \".concat(String(selectedProjectId)===String(p.id)&&showAnalytics?'bg-green-600 text-white shadow-lg':'bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 hover:from-green-100 hover:to-emerald-100 hover:shadow-md'),children:String(selectedProjectId)===String(p.id)&&showAnalytics?'✓ Analytics Shown':'View Analytics'})]})]})},p.id))})]}),showAnalytics&&selectedProjectId&&/*#__PURE__*/_jsxs(Card,{className:\"p-8 shadow-xl border-0 bg-gradient-to-br from-white to-indigo-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"Project Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:(_smProjects$data4=>{const list=(user===null||user===void 0?void 0:user.role)==='scrum_master'?Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data:(smProjects===null||smProjects===void 0?void 0:(_smProjects$data4=smProjects.data)===null||_smProjects$data4===void 0?void 0:_smProjects$data4.results)||[]:assignedProjects;const project=list.find(p=>String(p.id)===String(selectedProjectId));return project?\"Detailed insights for \".concat(project.name):'Project analytics';})()})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAnalytics(false),className:\"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\",children:\"Close Analytics\"})]}),/*#__PURE__*/_jsx(ProjectAnalytics,{analytics:projectAnalytics,projectName:(_smProjects$data5=>{const list=(user===null||user===void 0?void 0:user.role)==='scrum_master'?Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data:(smProjects===null||smProjects===void 0?void 0:(_smProjects$data5=smProjects.data)===null||_smProjects$data5===void 0?void 0:_smProjects$data5.results)||[]:assignedProjects;const project=list.find(p=>String(p.id)===String(selectedProjectId));return(project===null||project===void 0?void 0:project.name)||'';})(),isLoading:projectAnalyticsLoading})]}),!selectedProjectId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:stats.map(stat=>{const Icon=stat.icon;return/*#__PURE__*/_jsx(Card,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg \".concat(stat.bgColor),children:/*#__PURE__*/_jsx(Icon,{className:\"h-6 w-6 \".concat(stat.color)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:stat.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stat.value})]})]})},stat.name);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsx(TimeTracker,{taskId:\"dashboard-timer\",taskTitle:\"General Work\",onTimeUpdate:session=>{setTimeTrackingData(prev=>[...prev,session]);}})})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Completion Rate\"}),/*#__PURE__*/_jsxs(Badge,{variant:\"success\",size:\"lg\",children:[(analytics===null||analytics===void 0?void 0:analytics.completion_rate)||0,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat((analytics===null||analytics===void 0?void 0:analytics.completion_rate)||0,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(Card,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Tasks by Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(Doughnut,{data:statusChartData,options:statusChartOptions})})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Tasks by Priority\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(Bar,{data:priorityChartData,options:priorityChartOptions})})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Projects Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:(user===null||user===void 0?void 0:user.role)==='scrum_master'?Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data.length:((smProjects===null||smProjects===void 0?void 0:(_smProjects$data6=smProjects.data)===null||_smProjects$data6===void 0?void 0:_smProjects$data6.results)||[]).length:assignedProjects.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-800\",children:\"Total Projects\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:(user===null||user===void 0?void 0:user.role)==='scrum_master'?Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data.filter(p=>p.progress_percentage>=100).length:((smProjects===null||smProjects===void 0?void 0:(_smProjects$data7=smProjects.data)===null||_smProjects$data7===void 0?void 0:_smProjects$data7.results)||[]).filter(p=>p.progress_percentage>=100).length:assignedProjects.filter(p=>p.progress_percentage>=100).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-800\",children:\"Completed Projects\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-yellow-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-600\",children:(user===null||user===void 0?void 0:user.role)==='scrum_master'?Array.isArray(smProjects===null||smProjects===void 0?void 0:smProjects.data)?smProjects.data.filter(p=>p.progress_percentage>0&&p.progress_percentage<100).length:((smProjects===null||smProjects===void 0?void 0:(_smProjects$data8=smProjects.data)===null||_smProjects$data8===void 0?void 0:_smProjects$data8.results)||[]).filter(p=>p.progress_percentage>0&&p.progress_percentage<100).length:assignedProjects.filter(p=>p.progress_percentage>0&&p.progress_percentage<100).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-yellow-800\",children:\"In Progress Projects\"})]})]})]}),(analytics===null||analytics===void 0?void 0:analytics.recent_activities)&&analytics.recent_activities.length>0&&/*#__PURE__*/_jsxs(Card,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Recent Activities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4\",children:analytics.recent_activities.slice(0,10).map((activity,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100 hover:shadow-md transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-600 rounded-full mt-1\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 font-medium line-clamp-2\",children:activity.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:[\"by \",activity.user_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:new Date(activity.created_at).toLocaleDateString()})]})]})},index))})]}),/*#__PURE__*/_jsxs(Card,{className:\"p-6 bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"Productivity Insights\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Team performance and task distribution\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-white rounded-xl border border-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-indigo-600 mb-1\",children:(analytics===null||analytics===void 0?void 0:analytics.avg_task_completion_time)||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Avg. Completion Time\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-white rounded-xl border border-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600 mb-1\",children:(analytics===null||analytics===void 0?void 0:analytics.tasks_completed_today)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Completed Today\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-white rounded-xl border border-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-orange-600 mb-1\",children:(analytics===null||analytics===void 0?void 0:analytics.overdue_tasks)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Overdue Tasks\"})]})]}),(user===null||user===void 0?void 0:user.role)==='scrum_master'&&(analytics===null||analytics===void 0?void 0:analytics.tasks_by_assignee)&&analytics.tasks_by_assignee.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Team Member Performance\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:analytics.tasks_by_assignee.map((member,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-white rounded-xl border border-indigo-100 hover:shadow-md transition-all duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full flex items-center justify-center shadow-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-lg\",children:(member.assignee__first_name||'U').charAt(0)})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-gray-900 text-lg\",children:[member.assignee__first_name,\" \",member.assignee__last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Team Member\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-green-600\",children:member.completed||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Completed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-yellow-600\",children:member.in_progress||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"In Progress\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-gray-600\",children:member.total||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Total\"})]})]})]},index))})]})]})]}),/*#__PURE__*/_jsx(GlobalSearch,{isOpen:showSearch,onClose:()=>setShowSearch(false),onSearch:result=>{console.log('Search result:',result);// Handle search result navigation\n}}),/*#__PURE__*/_jsx(NotificationCenter,{isOpen:showNotifications,onClose:()=>setShowNotifications(false)}),/*#__PURE__*/_jsx(MobileMenu,{isOpen:showMobileMenu,onClose:()=>setShowMobileMenu(false),onSearch:()=>setShowSearch(true),onNotifications:()=>setShowNotifications(true)}),showTemplates&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Task Templates\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTemplates(false),className:\"p-2 hover:bg-gray-100 rounded-lg\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5 text-gray-500\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(TaskTemplateManager,{onTemplateSelect:template=>{console.log('Template selected:',template);setShowTemplates(false);},onTemplateCreate:template=>{console.log('Template created:',template);}})})]})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useQuery","useAuth","useTheme","tasksAPI","projectsAPI","Card","Badge","LoadingSpinner","ProjectAnalytics","TimeTracker","GlobalSearch","NotificationCenter","MobileMenu","TaskTemplateManager","CheckSquare","CheckCircle","Clock","AlertCircle","Users","TrendingUp","BarChart3","Activity","Target","FolderOpen","Search","Moon","Sun","FileText","Upload","Bell","Settings","Timer","Play","Pause","Square","X","Bar","Doughnut","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","Dashboard","_assignedProjectsResp","_smProjects$data6","_smProjects$data7","_smProjects$data8","user","isDarkMode","toggleTheme","selectedProjectId","setSelectedProjectId","showAnalytics","setShowAnalytics","showSearch","setShowSearch","showNotifications","setShowNotifications","showMobileMenu","setShowMobileMenu","showTemplates","setShowTemplates","timeTrackingData","setTimeTrackingData","data","smProjects","getProjects","enabled","role","assignedProjectsResp","isLoading","assignedLoading","error","assignedError","getAssignedProjects","analyticsResp","res","getTaskAnalytics","refetchInterval","retry","analytics","projectSpecificAnalytics","projectAnalyticsLoading","getProjectAnalytics","projectAnalytics","assignedProjects","Array","isArray","results","className","children","size","message","stats","name","value","total_tasks","icon","color","bgColor","completed_tasks","in_progress_tasks","overdue_tasks","statusChartData","labels","datasets","todo_tasks","backgroundColor","borderWidth","statusChartOptions","responsive","maintainAspectRatio","plugins","legend","position","priorityItems","tasks_by_priority","priorityChartData","map","item","priority","toString","charAt","toUpperCase","slice","label","count","priorityChartOptions","scales","y","beginAtZero","ticks","stepSize","first_name","username","onClick","window","location","href","_smProjects$data","list","length","onChange","e","target","_smProjects$data2","p","id","_smProjects$data3","displayProjects","concat","String","description","variant","task_count","member_count","progress_percentage","style","width","_smProjects$data4","project","find","projectName","_smProjects$data5","stat","Icon","taskId","taskTitle","onTimeUpdate","session","prev","completion_rate","options","filter","recent_activities","activity","index","user_name","Date","created_at","toLocaleDateString","avg_task_completion_time","tasks_completed_today","tasks_by_assignee","member","assignee__first_name","assignee__last_name","completed","in_progress","total","isOpen","onClose","onSearch","result","console","log","onNotifications","onTemplateSelect","template","onTemplateCreate"],"sources":["C:/Users/B Chaitanya Chowdary/Desktop/Task/frontend/src/pages/Dashboard/Dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useTheme } from '../../contexts/ThemeContext';\nimport { tasksAPI, projectsAPI } from '../../services/api';\nimport Card from '../../components/UI/Card';\nimport Badge from '../../components/UI/Badge';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\nimport ProjectAnalytics from '../../components/Analytics/ProjectAnalytics';\nimport TimeTracker from '../../components/TimeTracking/TimeTracker';\nimport GlobalSearch from '../../components/Search/GlobalSearch';\nimport NotificationCenter from '../../components/Notifications/NotificationCenter';\nimport MobileMenu from '../../components/Navigation/MobileMenu';\nimport TaskTemplateManager from '../../components/TaskTemplates/TaskTemplateManager';\nimport {\n  CheckSquare,\n  CheckCircle,\n  Clock,\n  AlertCircle,\n  Users,\n  TrendingUp,\n  BarChart3,\n  Activity,\n  Target,\n  FolderOpen,\n  Search,\n  Moon,\n  Sun,\n  FileText,\n  Upload,\n  Bell,\n  Settings,\n  Timer,\n  Play,\n  Pause,\n  Square,\n  X,\n} from 'lucide-react';\nimport { Bar, Doughnut } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n} from 'chart.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement\n);\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const { isDarkMode, toggleTheme } = useTheme();\n\n  const [selectedProjectId, setSelectedProjectId] = useState('');\n  const [showAnalytics, setShowAnalytics] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [showTemplates, setShowTemplates] = useState(false);\n  const [timeTrackingData, setTimeTrackingData] = useState([]);\n\n  const { data: smProjects } = useQuery(\n    'smProjects',\n    projectsAPI.getProjects,\n    { enabled: user?.role === 'scrum_master' }\n  );\n\n  // Employee: fetch assigned projects for dashboard\n  const { data: assignedProjectsResp, isLoading: assignedLoading, error: assignedError } = useQuery(\n    'assignedProjects',\n    projectsAPI.getAssignedProjects,\n    { enabled: user?.role === 'employee' }\n  );\n\n  const { data: analyticsResp, isLoading, error } = useQuery(\n    ['taskAnalytics', user?.role],\n    async () => {\n      // Dashboard shows general analytics with charts\n      const res = await tasksAPI.getTaskAnalytics();\n      return res.data || res;\n    },\n    { refetchInterval: 30000, retry: false }\n  );\n  const analytics = analyticsResp;\n\n  // Separate query for project-specific analytics when a project is selected\n  const { data: projectSpecificAnalytics, isLoading: projectAnalyticsLoading } = useQuery(\n    ['projectSpecificAnalytics', selectedProjectId],\n    async () => {\n      if (selectedProjectId) {\n        const res = await projectsAPI.getProjectAnalytics(selectedProjectId);\n        return res.data || res;\n      }\n      return null;\n    },\n    {\n      enabled: !!selectedProjectId && showAnalytics,\n      retry: false,\n    }\n  );\n\n  // Use project-specific analytics only\n  const projectAnalytics = projectSpecificAnalytics;\n\n  // Notifications are shown via the header bell; dashboard feed removed per request\n\n  // Removed unused variables\n\n  // Normalize assigned projects for employees\n  const assignedProjects = Array.isArray(assignedProjectsResp?.data)\n    ? assignedProjectsResp.data\n    : (assignedProjectsResp?.data?.results || []);\n\n  if (isLoading || (user?.role === 'employee' && assignedLoading)) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-red-500\">Failed to load dashboard data</p>\n      </div>\n    );\n  }\n\n  if (user?.role === 'employee' && assignedError) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-red-500\">Failed to load assigned projects: {assignedError.message}</p>\n      </div>\n    );\n  }\n\n  const stats = [\n    {\n      name: 'Total Tasks',\n      value: analytics?.total_tasks || 0,\n      icon: CheckSquare,\n      color: 'text-blue-600',\n      bgColor: 'bg-blue-50',\n    },\n    {\n      name: 'Completed',\n      value: analytics?.completed_tasks || 0,\n      icon: CheckSquare,\n      color: 'text-green-600',\n      bgColor: 'bg-green-50',\n    },\n    {\n      name: 'In Progress',\n      value: analytics?.in_progress_tasks || 0,\n      icon: Clock,\n      color: 'text-yellow-600',\n      bgColor: 'bg-yellow-50',\n    },\n    {\n      name: 'Overdue',\n      value: analytics?.overdue_tasks || 0,\n      icon: AlertCircle,\n      color: 'text-red-600',\n      bgColor: 'bg-red-50',\n    },\n  ];\n\n  // Chart data for tasks by status\n  const statusChartData = {\n    labels: ['To Do', 'In Progress', 'Done'],\n    datasets: [\n      {\n        data: [\n          analytics?.todo_tasks || 0,\n          analytics?.in_progress_tasks || 0,\n          analytics?.completed_tasks || 0,\n        ],\n        backgroundColor: ['#6b7280', '#f59e0b', '#10b981'],\n        borderWidth: 0,\n      },\n    ],\n  };\n\n  const statusChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom',\n      },\n    },\n  };\n\n  // Chart data for tasks by priority\n  const priorityItems = Array.isArray(analytics?.tasks_by_priority) ? analytics.tasks_by_priority : [];\n  const priorityChartData = {\n    labels: priorityItems.map(item => (item.priority || '').toString().charAt(0).toUpperCase() + (item.priority || '').toString().slice(1)),\n    datasets: [\n      {\n        label: 'Tasks',\n        data: priorityItems.map(item => item.count || 0),\n        backgroundColor: ['#ef4444', '#f59e0b', '#3b82f6', '#10b981'],\n        borderWidth: 0,\n      },\n    ],\n  };\n\n  const priorityChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom',\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        ticks: {\n          stepSize: 1,\n        },\n      },\n    },\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Enhanced Header with Quick Actions */}\n      <div className=\"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-2xl p-8 border border-blue-100\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-6\">\n            <div className=\"p-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl shadow-lg\">\n              <Activity className=\"h-8 w-8 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-4xl font-bold text-gradient-blue mb-2\">\n                Welcome back, {user?.first_name || user?.username}! 👋\n              </h1>\n              <p className=\"text-xl text-gray-600\">\n                Here's what's happening with your tasks today.\n              </p>\n            </div>\n          </div>\n          \n          {/* Quick Actions */}\n          <div className=\"flex items-center gap-3\">\n            {/* Mobile Menu Button */}\n            <button\n              onClick={() => setShowMobileMenu(true)}\n              className=\"lg:hidden p-2 bg-gray-100 hover:bg-gray-200 rounded-lg\"\n            >\n              <Settings className=\"h-5 w-5 text-gray-600\" />\n            </button>\n\n            {/* Search Button */}\n            <button\n              onClick={() => setShowSearch(true)}\n              className=\"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg\"\n            >\n              <Search className=\"h-5 w-5 text-gray-600\" />\n            </button>\n\n            {/* Notifications Button */}\n            <button\n              onClick={() => setShowNotifications(true)}\n              className=\"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg relative\"\n            >\n              <Bell className=\"h-5 w-5 text-gray-600\" />\n              <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full\"></span>\n            </button>\n\n            {/* Theme Toggle */}\n            <button\n              onClick={toggleTheme}\n              className=\"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg\"\n            >\n              {isDarkMode ? <Sun className=\"h-5 w-5 text-yellow-600\" /> : <Moon className=\"h-5 w-5 text-gray-600\" />}\n            </button>\n\n            {/* Templates Button */}\n            <button\n              onClick={() => setShowTemplates(true)}\n              className=\"px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2\"\n            >\n              <FileText className=\"h-4 w-4\" />\n              Templates\n            </button>\n\n            <button\n              onClick={() => window.location.href = '/tasks'}\n              className=\"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2\"\n            >\n              <CheckCircle className=\"h-4 w-4\" />\n              View Tasks\n            </button>\n            <button\n              onClick={() => window.location.href = '/kanban'}\n              className=\"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2\"\n            >\n              <BarChart3 className=\"h-4 w-4\" />\n              Kanban Board\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Project selection handled within Projects Overview cards */}\n\n      {/* Scrum Master: All projects quick cards */}\n      {user?.role === 'scrum_master' && (\n        <Card className=\"p-8 shadow-xl border-0 bg-gradient-to-br from-white to-blue-50\">\n          <div className=\"flex flex-col lg:flex-row lg:items-center justify-between mb-8 gap-4\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg\">\n                <FolderOpen className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">Projects Overview</h3>\n                <p className=\"text-gray-600\">\n                  Manage and monitor your projects\n                  {(() => {\n                    const list = Array.isArray(smProjects?.data) ? smProjects.data : (smProjects?.data?.results || []);\n                    return list.length > 0 && (\n                      <span className=\"ml-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\n                        {list.length} {list.length === 1 ? 'project' : 'projects'}\n                      </span>\n                    );\n                  })()}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Filter by project:</label>\n              <select\n                className=\"border-2 border-blue-200 rounded-xl px-4 py-2 text-sm bg-white/80 backdrop-blur-sm focus:border-blue-500 focus:outline-none transition-all duration-200\"\n                value={selectedProjectId}\n                onChange={(e) => {\n                  setSelectedProjectId(e.target.value);\n                  if (e.target.value) {\n                    setShowAnalytics(true);\n                  }\n                }}\n              >\n                <option value=\"\">All projects</option>\n                {(() => {\n                  const list = Array.isArray(smProjects?.data) ? smProjects.data : (smProjects?.data?.results || []);\n                  return list.map((p) => (\n                    <option key={p.id} value={p.id}>{p.name}</option>\n                  ));\n                })()}\n              </select>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {(() => {\n              const list = Array.isArray(smProjects?.data) ? smProjects.data : (smProjects?.data?.results || []);\n              const displayProjects = list.slice(0, 6); // Show only first 6 projects\n              \n              if (!list.length) {\n                return (\n                  <div className=\"col-span-full text-center text-gray-500 py-12\">\n                    <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <FolderOpen className=\"h-8 w-8 text-gray-400\" />\n                    </div>\n                    <p className=\"text-lg\">No projects yet</p>\n                    <p className=\"text-sm text-gray-400 mt-2\">Create your first project to get started</p>\n                  </div>\n                );\n              }\n              \n              return (\n                <>\n                  {displayProjects.map((p) => (\n                    <Card key={p.id} className={`h-full flex flex-col hover-lift transition-all duration-300 ${String(selectedProjectId) === String(p.id) ? 'ring-2 ring-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50' : 'bg-white'}`}> \n                      <div className=\"p-6 flex-1 flex flex-col\">\n                        <div className=\"flex items-start justify-between mb-4\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className={`p-3 rounded-xl ${String(selectedProjectId) === String(p.id) ? 'bg-blue-600' : 'bg-gradient-to-r from-blue-500 to-indigo-500'}`}>\n                              <FolderOpen className=\"h-6 w-6 text-white\" />\n                            </div>\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-bold text-lg text-gray-900\">{p.name}</h4>\n                              {p.description && (\n                                <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">{p.description}</p>\n                              )}\n                            </div>\n                          </div>\n                          <Badge variant=\"primary\" className=\"text-xs flex-shrink-0\">\n                            {p.task_count || 0} tasks\n                          </Badge>\n                        </div>\n                        \n                        <div className=\"flex-1 flex flex-col justify-between\">\n                          <div className=\"space-y-4\">\n                            <div className=\"flex items-center justify-between text-sm\">\n                              <div className=\"flex items-center gap-2\">\n                                <Users className=\"h-4 w-4 text-gray-500\" />\n                                <span className=\"text-gray-700\">{p.member_count || 0} members</span>\n                              </div>\n                              <div className=\"flex items-center gap-2\">\n                                <TrendingUp className=\"h-4 w-4 text-gray-500\" />\n                                <span className=\"text-gray-700\">{p.progress_percentage || 0}% complete</span>\n                              </div>\n                            </div>\n                            \n                            <div className=\"space-y-2\">\n                              <div className=\"flex justify-between text-xs text-gray-600\">\n                                <span>Progress</span>\n                                <span>{p.progress_percentage || 0}%</span>\n                              </div>\n                              <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n                                <div \n                                  className=\"h-3 rounded-full bg-gradient-to-r from-blue-500 via-indigo-500 to-green-500 transition-all duration-500 ease-out\" \n                                  style={{ width: `${p.progress_percentage || 0}%` }} \n                                />\n                              </div>\n                            </div>\n                          </div>\n                          \n                          <button\n                            onClick={() => {\n                              setSelectedProjectId(String(p.id));\n                              setShowAnalytics(true);\n                            }}\n                            className={`w-full text-sm font-semibold px-4 py-3 rounded-xl transition-all duration-200 mt-4 ${\n                              String(selectedProjectId) === String(p.id) && showAnalytics\n                                ? 'bg-blue-600 text-white shadow-lg' \n                                : 'bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 hover:from-blue-100 hover:to-indigo-100 hover:shadow-md'\n                            }`}\n                          >\n                            {String(selectedProjectId) === String(p.id) && showAnalytics ? '✓ Analytics Shown' : 'View Analytics'}\n                          </button>\n                        </div>\n                      </div>\n                    </Card>\n                  ))}\n                  \n                  {/* Show \"View All Projects\" button if there are more than 6 projects */}\n                  {list.length > 6 && (\n                    <div className=\"col-span-full flex justify-center mt-6\">\n                      <button\n                        onClick={() => window.location.href = '/projects'}\n                        className=\"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-3\"\n                      >\n                        <FolderOpen className=\"h-5 w-5\" />\n                        View All Projects ({list.length})\n                      </button>\n                    </div>\n                  )}\n                </>\n              );\n            })()}\n          </div>\n        </Card>\n      )}\n\n      {/* Employee: My Projects section removed per request */}\n\n      {/* Employee: Projects Overview with selector */}\n      {user?.role === 'employee' && (\n        <Card className=\"p-8 shadow-xl border-0 bg-gradient-to-br from-white to-green-50\">\n          <div className=\"flex flex-col lg:flex-row lg:items-center justify-between mb-8 gap-4\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg\">\n                <FolderOpen className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">My Projects</h3>\n                <p className=\"text-gray-600\">\n                  View and manage your assigned projects\n                  {assignedProjects.length > 0 && (\n                    <span className=\"ml-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold\">\n                      {assignedProjects.length} {assignedProjects.length === 1 ? 'project' : 'projects'}\n                    </span>\n                  )}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Filter by project:</label>\n              <select\n                className=\"border-2 border-green-200 rounded-xl px-4 py-2 text-sm bg-white/80 backdrop-blur-sm focus:border-green-500 focus:outline-none transition-all duration-200\"\n                value={selectedProjectId}\n                onChange={(e) => {\n                  setSelectedProjectId(e.target.value);\n                  if (e.target.value) {\n                    setShowAnalytics(true);\n                  }\n                }}\n              >\n                <option value=\"\">All projects</option>\n                {assignedProjects.map((p) => (\n                  <option key={p.id} value={p.id}>{p.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {assignedProjects.length === 0 ? (\n              <div className=\"col-span-full text-center text-gray-500 py-12\">\n                <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <FolderOpen className=\"h-8 w-8 text-gray-400\" />\n                </div>\n                <p className=\"text-lg\">No projects assigned yet</p>\n                <p className=\"text-sm text-gray-400 mt-2\">Contact your Scrum Master to be added to a project</p>\n              </div>\n            ) : (\n              assignedProjects.map((p) => (\n                <Card key={p.id} className={`h-full flex flex-col hover-lift transition-all duration-300 ${String(selectedProjectId) === String(p.id) ? 'ring-2 ring-green-500 bg-gradient-to-br from-green-50 to-emerald-50' : 'bg-white'}`}>\n                  <div className=\"p-6 flex-1 flex flex-col\">\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className={`p-3 rounded-xl ${String(selectedProjectId) === String(p.id) ? 'bg-green-600' : 'bg-gradient-to-r from-green-500 to-emerald-500'}`}>\n                          <FolderOpen className=\"h-6 w-6 text-white\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-bold text-lg text-gray-900\">{p.name}</h4>\n                          {p.description && (\n                            <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">{p.description}</p>\n                          )}\n                        </div>\n                      </div>\n                      <Badge variant=\"primary\" className=\"text-xs flex-shrink-0\">\n                        {p.task_count || 0} tasks\n                      </Badge>\n                    </div>\n                    \n                    <div className=\"flex-1 flex flex-col justify-between\">\n                      <div className=\"space-y-4\">\n                        <div className=\"flex items-center justify-between text-sm\">\n                          <div className=\"flex items-center gap-2\">\n                            <Users className=\"h-4 w-4 text-gray-500\" />\n                            <span className=\"text-gray-700\">{p.member_count || 0} members</span>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <TrendingUp className=\"h-4 w-4 text-gray-500\" />\n                            <span className=\"text-gray-700\">{p.progress_percentage || 0}% complete</span>\n                          </div>\n                        </div>\n                        \n                        <div className=\"space-y-2\">\n                          <div className=\"flex justify-between text-xs text-gray-600\">\n                            <span>Progress</span>\n                            <span>{p.progress_percentage || 0}%</span>\n                          </div>\n                          <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n                            <div \n                              className=\"h-3 rounded-full bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 transition-all duration-500 ease-out\" \n                              style={{ width: `${p.progress_percentage || 0}%` }} \n                            />\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <button\n                        onClick={() => {\n                          setSelectedProjectId(String(p.id));\n                          setShowAnalytics(true);\n                        }}\n                        className={`w-full text-sm font-semibold px-4 py-3 rounded-xl transition-all duration-200 mt-4 ${\n                          String(selectedProjectId) === String(p.id) && showAnalytics\n                            ? 'bg-green-600 text-white shadow-lg' \n                            : 'bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 hover:from-green-100 hover:to-emerald-100 hover:shadow-md'\n                        }`}\n                      >\n                        {String(selectedProjectId) === String(p.id) && showAnalytics ? '✓ Analytics Shown' : 'View Analytics'}\n                      </button>\n                    </div>\n                  </div>\n                </Card>\n              ))\n            )}\n          </div>\n        </Card>\n      )}\n\n      {/* Project Analytics Section */}\n      {showAnalytics && selectedProjectId && (\n        <Card className=\"p-8 shadow-xl border-0 bg-gradient-to-br from-white to-indigo-50\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"p-3 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg\">\n                <BarChart3 className=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">Project Analytics</h3>\n                <p className=\"text-gray-600\">\n                  {(() => {\n                    const list = user?.role === 'scrum_master' \n                      ? (Array.isArray(smProjects?.data) ? smProjects.data : (smProjects?.data?.results || []))\n                      : assignedProjects;\n                    const project = list.find(p => String(p.id) === String(selectedProjectId));\n                    return project ? `Detailed insights for ${project.name}` : 'Project analytics';\n                  })()}\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={() => setShowAnalytics(false)}\n              className=\"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\n            >\n              Close Analytics\n            </button>\n          </div>\n          \n          <ProjectAnalytics \n            analytics={projectAnalytics} \n            projectName={(() => {\n              const list = user?.role === 'scrum_master' \n                ? (Array.isArray(smProjects?.data) ? smProjects.data : (smProjects?.data?.results || []))\n                : assignedProjects;\n              const project = list.find(p => String(p.id) === String(selectedProjectId));\n              return project?.name || '';\n            })()}\n            isLoading={projectAnalyticsLoading}\n          />\n        </Card>\n      )}\n\n      {/* Main Dashboard Analytics - Only show when no project is selected */}\n      {!selectedProjectId && (\n        <>\n          {/* Time Tracker Section */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            <div className=\"lg:col-span-2\">\n              {/* Stats Grid */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                {stats.map((stat) => {\n                  const Icon = stat.icon;\n                  return (\n                    <Card key={stat.name} className=\"p-6\">\n                      <div className=\"flex items-center\">\n                        <div className={`p-3 rounded-lg ${stat.bgColor}`}>\n                          <Icon className={`h-6 w-6 ${stat.color}`} />\n                        </div>\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-600\">{stat.name}</p>\n                          <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                        </div>\n                      </div>\n                    </Card>\n                  );\n                })}\n              </div>\n            </div>\n            \n            {/* Time Tracker */}\n            <div className=\"lg:col-span-1\">\n              <TimeTracker\n                taskId=\"dashboard-timer\"\n                taskTitle=\"General Work\"\n                onTimeUpdate={(session) => {\n                  setTimeTrackingData(prev => [...prev, session]);\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Completion Rate */}\n          <Card className=\"p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Completion Rate</h3>\n              <Badge variant=\"success\" size=\"lg\">\n                {analytics?.completion_rate || 0}%\n              </Badge>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${analytics?.completion_rate || 0}%` }}\n              ></div>\n            </div>\n          </Card>\n\n          {/* Charts */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Tasks by Status */}\n            <Card className=\"p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Tasks by Status</h3>\n              <div className=\"h-64\">\n                <Doughnut data={statusChartData} options={statusChartOptions} />\n              </div>\n            </Card>\n\n            {/* Tasks by Priority */}\n            <Card className=\"p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Tasks by Priority</h3>\n              <div className=\"h-64\">\n                <Bar data={priorityChartData} options={priorityChartOptions} />\n              </div>\n            </Card>\n          </div>\n\n          {/* Projects Overview */}\n          <Card className=\"p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Projects Overview</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                <div className=\"text-2xl font-bold text-blue-600\">\n                  {user?.role === 'scrum_master' \n                    ? (Array.isArray(smProjects?.data) ? smProjects.data.length : (smProjects?.data?.results || []).length)\n                    : assignedProjects.length\n                  }\n                </div>\n                <div className=\"text-sm text-blue-800\">Total Projects</div>\n              </div>\n              <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n                <div className=\"text-2xl font-bold text-green-600\">\n                  {user?.role === 'scrum_master' \n                    ? (Array.isArray(smProjects?.data) ? smProjects.data.filter(p => p.progress_percentage >= 100).length : (smProjects?.data?.results || []).filter(p => p.progress_percentage >= 100).length)\n                    : assignedProjects.filter(p => p.progress_percentage >= 100).length\n                  }\n                </div>\n                <div className=\"text-sm text-green-800\">Completed Projects</div>\n              </div>\n              <div className=\"text-center p-4 bg-yellow-50 rounded-lg\">\n                <div className=\"text-2xl font-bold text-yellow-600\">\n                  {user?.role === 'scrum_master' \n                    ? (Array.isArray(smProjects?.data) ? smProjects.data.filter(p => p.progress_percentage > 0 && p.progress_percentage < 100).length : (smProjects?.data?.results || []).filter(p => p.progress_percentage > 0 && p.progress_percentage < 100).length)\n                    : assignedProjects.filter(p => p.progress_percentage > 0 && p.progress_percentage < 100).length\n                  }\n                </div>\n                <div className=\"text-sm text-yellow-800\">In Progress Projects</div>\n              </div>\n            </div>\n          </Card>\n\n          {/* Recent Activities */}\n          {analytics?.recent_activities && analytics.recent_activities.length > 0 && (\n            <Card className=\"p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Recent Activities</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4\">\n                {analytics.recent_activities.slice(0, 10).map((activity, index) => (\n                  <div key={index} className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100 hover:shadow-md transition-shadow\">\n                    <div className=\"flex items-start space-x-3\">\n                      <div className=\"flex-shrink-0\">\n                        <div className=\"w-3 h-3 bg-blue-600 rounded-full mt-1\"></div>\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm text-gray-900 font-medium line-clamp-2\">{activity.description}</p>\n                        <p className=\"text-xs text-gray-500 mt-2\">\n                          by {activity.user_name}\n                        </p>\n                        <p className=\"text-xs text-gray-400 mt-1\">\n                          {new Date(activity.created_at).toLocaleDateString()}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </Card>\n          )}\n\n          {/* Enhanced Productivity Insights */}\n          <Card className=\"p-6 bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"p-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl shadow-lg\">\n                  <TrendingUp className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h3 className=\"text-xl font-bold text-gray-900\">Productivity Insights</h3>\n                  <p className=\"text-sm text-gray-600\">Team performance and task distribution</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n              <div className=\"text-center p-4 bg-white rounded-xl border border-indigo-100\">\n                <div className=\"text-2xl font-bold text-indigo-600 mb-1\">\n                  {analytics?.avg_task_completion_time || 'N/A'}\n                </div>\n                <div className=\"text-sm text-gray-500\">Avg. Completion Time</div>\n              </div>\n              <div className=\"text-center p-4 bg-white rounded-xl border border-indigo-100\">\n                <div className=\"text-2xl font-bold text-green-600 mb-1\">\n                  {analytics?.tasks_completed_today || 0}\n                </div>\n                <div className=\"text-sm text-gray-500\">Completed Today</div>\n              </div>\n              <div className=\"text-center p-4 bg-white rounded-xl border border-indigo-100\">\n                <div className=\"text-2xl font-bold text-orange-600 mb-1\">\n                  {analytics?.overdue_tasks || 0}\n                </div>\n                <div className=\"text-sm text-gray-500\">Overdue Tasks</div>\n              </div>\n            </div>\n\n            {/* Tasks by Assignee (Scrum Master only) */}\n            {user?.role === 'scrum_master' && analytics?.tasks_by_assignee && analytics.tasks_by_assignee.length > 0 && (\n              <div>\n                <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">Team Member Performance</h4>\n                <div className=\"space-y-3\">\n                  {analytics.tasks_by_assignee.map((member, index) => (\n                    <div key={index} className=\"flex items-center justify-between p-4 bg-white rounded-xl border border-indigo-100 hover:shadow-md transition-all duration-200\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"w-10 h-10 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full flex items-center justify-center shadow-lg\">\n                          <span className=\"text-white font-bold text-lg\">\n                            {(member.assignee__first_name || 'U').charAt(0)}\n                          </span>\n                        </div>\n                        <div>\n                          <p className=\"font-bold text-gray-900 text-lg\">\n                            {member.assignee__first_name} {member.assignee__last_name}\n                          </p>\n                          <p className=\"text-sm text-gray-500\">Team Member</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-6\">\n                        <div className=\"text-center\">\n                          <div className=\"text-xl font-bold text-green-600\">{member.completed || 0}</div>\n                          <div className=\"text-xs text-gray-500\">Completed</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-xl font-bold text-yellow-600\">{member.in_progress || 0}</div>\n                          <div className=\"text-xs text-gray-500\">In Progress</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-xl font-bold text-gray-600\">{member.total || 0}</div>\n                          <div className=\"text-xs text-gray-500\">Total</div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </Card>\n        </>\n      )}\n\n      {/* Modal Components */}\n      <GlobalSearch\n        isOpen={showSearch}\n        onClose={() => setShowSearch(false)}\n        onSearch={(result) => {\n          console.log('Search result:', result);\n          // Handle search result navigation\n        }}\n      />\n\n      <NotificationCenter\n        isOpen={showNotifications}\n        onClose={() => setShowNotifications(false)}\n      />\n\n      <MobileMenu\n        isOpen={showMobileMenu}\n        onClose={() => setShowMobileMenu(false)}\n        onSearch={() => setShowSearch(true)}\n        onNotifications={() => setShowNotifications(true)}\n      />\n\n      {/* Task Templates Modal */}\n      {showTemplates && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">Task Templates</h2>\n                <button\n                  onClick={() => setShowTemplates(false)}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg\"\n                >\n                  <X className=\"h-5 w-5 text-gray-500\" />\n                </button>\n              </div>\n            </div>\n            <div className=\"p-6\">\n              <TaskTemplateManager\n                onTemplateSelect={(template) => {\n                  console.log('Template selected:', template);\n                  setShowTemplates(false);\n                }}\n                onTemplateCreate={(template) => {\n                  console.log('Template created:', template);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}