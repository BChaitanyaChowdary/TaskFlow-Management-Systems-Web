{"ast":null,"code":"import _objectSpread from\"C:/Users/B Chaitanya Chowdary/Desktop/Task/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useQuery,useMutation,useQueryClient}from'react-query';import{useAuth}from'../../contexts/AuthContext';import{projectsAPI,authAPI,tasksAPI}from'../../services/api';import Card from'../../components/UI/Card';import Button from'../../components/UI/Button';import Input from'../../components/UI/Input';import Textarea from'../../components/UI/Textarea';import Badge from'../../components/UI/Badge';import LoadingSpinner from'../../components/UI/LoadingSpinner';import ConfirmPasswordModal from'../../components/UI/ConfirmPasswordModal';import ProjectMembersModal from'../../components/Projects/ProjectMembersModal';import ProjectChat from'../../components/Projects/ProjectChat';import KanbanBoard from'../../components/Tasks/KanbanBoard';import TaskModal from'../../components/Tasks/TaskModal';import ProjectAnalytics from'../../components/Analytics/ProjectAnalytics';import{Plus,FolderOpen,Calendar,User,BarChart3,Edit,Trash2,Users,TrendingUp,MessageSquare,Send,UserPlus,X,Search}from'lucide-react';import{format}from'date-fns';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Projects=()=>{var _projects$data;const{user}=useAuth();const queryClient=useQueryClient();const[showModal,setShowModal]=useState(false);const[editingProject,setEditingProject]=useState(null);const[selectedProject,setSelectedProject]=useState(null);const[showMessages,setShowMessages]=useState(false);const[showMembers,setShowMembers]=useState(false);const[showKanban,setShowKanban]=useState(false);const[showTaskModal,setShowTaskModal]=useState(false);const[showAnalytics,setShowAnalytics]=useState(false);const[selectedProjectForAnalytics,setSelectedProjectForAnalytics]=useState('');const[editingTask,setEditingTask]=useState(null);const[newMessage,setNewMessage]=useState('');const[confirmDeleteProjectId,setConfirmDeleteProjectId]=useState(null);const[confirmError,setConfirmError]=useState('');const[confirmLoading,setConfirmLoading]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[formData,setFormData]=useState({name:'',description:'',member_ids:[]});// Fetch projects - different API based on user role\nconst{data:projects,isLoading,error}=useQuery('projects',(user===null||user===void 0?void 0:user.role)==='employee'?projectsAPI.getAssignedProjects:projectsAPI.getProjects,{onError:error=>{console.error('Error fetching projects:',error);},onSuccess:data=>{console.log('Projects data:',data);console.log('User role:',user===null||user===void 0?void 0:user.role);}});// Fetch project messages when a project is selected\nconst{data:messages,isLoading:messagesLoading,refetch:refetchMessages}=useQuery(['projectMessages',selectedProject===null||selectedProject===void 0?void 0:selectedProject.id],()=>projectsAPI.getProjectMessages(selectedProject.id),{enabled:!!selectedProject&&showMessages,refetchInterval:5000// Refetch every 5 seconds for real-time updates\n});// Fetch project analytics when analytics is shown\nconst{data:projectAnalytics,isLoading:analyticsLoading,error:analyticsError}=useQuery(['projectAnalytics',selectedProjectForAnalytics,user===null||user===void 0?void 0:user.role],async()=>{if(selectedProjectForAnalytics){// For employees, use general task analytics to avoid 403 errors\nif((user===null||user===void 0?void 0:user.role)==='employee'){console.log('Projects page - Employee detected, using general task analytics');const res=await tasksAPI.getTaskAnalytics();return res.data||res;}// For scrum masters, try project-specific analytics\ntry{const res=await projectsAPI.getProjectAnalytics(selectedProjectForAnalytics);return res.data||res;}catch(error){console.log('Projects page - Project analytics failed, falling back to task analytics:',error);const res=await tasksAPI.getTaskAnalytics();return res.data||res;}}// If no specific project selected, get general analytics\nconst res=await tasksAPI.getTaskAnalytics();return res.data||res;},{enabled:showAnalytics,retry:false,onSuccess:data=>{console.log('Project analytics data:',data);},onError:error=>{console.error('Project analytics error:',error);// Don't fallback to general analytics - show error instead\ntoast.error('Failed to load project analytics. Please try again.');}});// Create/Update project mutation\nconst projectMutation=useMutation(data=>editingProject?projectsAPI.updateProject(editingProject.id,data):projectsAPI.createProject(data),{onSuccess:()=>{queryClient.invalidateQueries('projects');setShowModal(false);setEditingProject(null);setFormData({name:'',description:'',member_ids:[]});toast.success(editingProject?'Project updated successfully':'Project created successfully');},onError:error=>{var _error$response;const data=(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data;let message='Operation failed';if(typeof data==='string'){message=data;}else if(data!==null&&data!==void 0&&data.detail){message=data.detail;}else if(data&&typeof data==='object'){const first=Object.entries(data)[0];if(first){const[,msgs]=first;message=Array.isArray(msgs)?msgs[0]:String(msgs);}}toast.error(message);}});// Delete project mutation\nconst deleteProjectMutation=useMutation(projectId=>projectsAPI.deleteProject(projectId),{onSuccess:()=>{queryClient.invalidateQueries('projects');toast.success('Project deleted successfully');},onError:error=>{var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'Failed to delete project');}});// Send message mutation\nconst sendMessageMutation=useMutation(messageData=>projectsAPI.createProjectMessage(selectedProject.id,messageData),{onSuccess:()=>{setNewMessage('');refetchMessages();toast.success('Message sent');},onError:error=>{var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||'Failed to send message');}});const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();if(!formData.name.trim()){toast.error('Project name is required');return;}const payload={name:formData.name.trim(),description:(formData.description||'').trim(),member_ids:formData.member_ids};projectMutation.mutate(payload);};const handleEditProject=project=>{setEditingProject(project);setFormData({name:project.name,description:project.description,member_ids:[]});setShowModal(true);};const handleDeleteProject=projectId=>{setConfirmError('');setConfirmDeleteProjectId(projectId);};const confirmDelete=async password=>{if(!confirmDeleteProjectId)return;setConfirmLoading(true);setConfirmError('');try{// verify identity using password\nawait authAPI.login(user===null||user===void 0?void 0:user.email,password);deleteProjectMutation.mutate(confirmDeleteProjectId,{onSettled:()=>{setConfirmLoading(false);setConfirmDeleteProjectId(null);}});}catch(e){setConfirmLoading(false);setConfirmError('Incorrect password. Please try again.');}};const handleSendMessage=e=>{e.preventDefault();if(!newMessage.trim())return;sendMessageMutation.mutate({content:newMessage.trim()});};const handleOpenMessages=project=>{setSelectedProject(project);setShowMessages(true);};const handleCloseMessages=()=>{setShowMessages(false);setSelectedProject(null);setNewMessage('');};const handleOpenMembers=project=>{setSelectedProject(project);setShowMembers(true);};const handleCloseMembers=()=>{setShowMembers(false);setSelectedProject(null);};const handleOpenKanban=project=>{setSelectedProject(project);setShowKanban(true);};const handleCloseKanban=()=>{setShowKanban(false);setSelectedProject(null);};const handleOpenAnalytics=project=>{setSelectedProject(project);setShowAnalytics(true);};const handleCloseAnalytics=()=>{setShowAnalytics(false);setSelectedProjectForAnalytics('');};const handleViewAnalytics=function(){let projectId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';setSelectedProjectForAnalytics(projectId);setShowAnalytics(true);};const handleCreateTask=()=>{setEditingTask(null);setShowTaskModal(true);};const handleCloseTaskModal=()=>{setShowTaskModal(false);setEditingTask(null);};const handleTaskSuccess=()=>{queryClient.invalidateQueries('projects');handleCloseTaskModal();};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:\"Failed to load projects\"})});}// Normalize paginated/non-paginated responses\nconst allProjects=Array.isArray(projects)?projects:Array.isArray(projects===null||projects===void 0?void 0:projects.data)?projects.data:(projects===null||projects===void 0?void 0:(_projects$data=projects.data)===null||_projects$data===void 0?void 0:_projects$data.results)||[];// Filter projects based on search query\nconst projectList=allProjects.filter(project=>{var _project$description;return project.name.toLowerCase().includes(searchQuery.toLowerCase())||((_project$description=project.description)===null||_project$description===void 0?void 0:_project$description.toLowerCase().includes(searchQuery.toLowerCase()));});// Debug logging\nconsole.log('Projects response:',projects);console.log('Project list:',projectList);console.log('Project list length:',projectList.length);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row lg:items-center justify-between gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-600 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-2\",children:\"Projects\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-600\",children:[\"Manage your projects and track progress\",projectList.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\",children:[projectList.length,\" \",projectList.length===1?'project':'projects']})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-lg\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-500\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Search projects by name or description...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"pl-12 h-14 bg-white/90 backdrop-blur-sm border-2 border-blue-200 focus:border-blue-500 rounded-xl text-lg shadow-lg hover:shadow-xl transition-all duration-200\"}),searchQuery&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchQuery(''),className:\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]})]}),(user===null||user===void 0?void 0:user.role)==='scrum_master'&&/*#__PURE__*/_jsxs(Button,{onClick:()=>{setEditingProject(null);setFormData({name:'',description:''});setShowModal(true);},className:\"flex items-center gap-3 px-6 py-3 h-12 text-lg font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5\"}),\"New Project\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:projectList.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"col-span-full\",children:/*#__PURE__*/_jsxs(Card,{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(FolderOpen,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:(user===null||user===void 0?void 0:user.role)==='employee'?'No projects assigned to you yet. Contact your Scrum Master to be added to a project.':'No projects found'}),(user===null||user===void 0?void 0:user.role)==='scrum_master'&&/*#__PURE__*/_jsx(Button,{onClick:()=>setShowModal(true),className:\"mt-4\",children:\"Create your first project\"})]})}):projectList.map(project=>/*#__PURE__*/_jsx(Card,{className:\"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 hover:from-blue-50 hover:to-indigo-50 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1 rounded-2xl border border-gray-200 h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-full flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-6 pb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsx(FolderOpen,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-900 text-xl leading-6 truncate group-hover:text-blue-700 transition-colors duration-300\",children:project.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2\",children:[/*#__PURE__*/_jsxs(Badge,{variant:\"primary\",size:\"sm\",className:\"bg-gradient-to-r from-blue-500 to-indigo-500 text-white border-0 shadow-md\",children:[project.task_count,\" tasks\"]}),/*#__PURE__*/_jsxs(Badge,{variant:project.progress_percentage===100?\"success\":project.progress_percentage>50?\"warning\":\"secondary\",size:\"sm\",className:\"shadow-md\",children:[project.progress_percentage,\"% complete\"]})]})]})]}),(user===null||user===void 0?void 0:user.role)==='scrum_master'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditProject(project),className:\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-100 rounded-lg transition-all duration-200\",children:/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProject(project.id),className:\"p-2 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-lg transition-all duration-200\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]})]}),project.description&&/*#__PURE__*/_jsx(\"div\",{className:\"px-6 pb-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm line-clamp-2 min-h-[2.5rem] leading-relaxed\",children:project.description})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 pb-6 flex-1 flex flex-col justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1 bg-gray-100 rounded-lg\",children:/*#__PURE__*/_jsx(User,{className:\"h-3 w-3\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"Created by \",project.created_by_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1 bg-gray-100 rounded-lg\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-3 w-3\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:format(new Date(project.created_at),'MMM dd, yyyy')})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between py-3 px-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:project.member_count}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Members\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[project.progress_percentage,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Complete\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Project Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-gray-900\",children:[project.progress_percentage,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-1000 ease-out \".concat(project.progress_percentage===100?'bg-gradient-to-r from-green-500 to-emerald-500':project.progress_percentage>50?'bg-gradient-to-r from-yellow-500 to-orange-500':'bg-gradient-to-r from-blue-500 to-indigo-500'),style:{width:\"\".concat(project.progress_percentage,\"%\")}})})]}),(user===null||user===void 0?void 0:user.role)==='employee'&&Array.isArray(project.members)&&project.members.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"pt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide\",children:\"Team Members\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[project.members.slice(0,3).map(m=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full text-xs font-medium text-blue-800 border border-blue-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-500 rounded-full\"}),m.user_name]},m.id)),project.members.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-full text-xs font-medium text-gray-600\",children:[\"+\",project.members.length-3,\" more\"]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 pb-6 pt-4 mt-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",className:\"w-full bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 text-blue-700 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300 hover:text-blue-800 transition-all duration-200 font-medium\",onClick:()=>handleOpenKanban(project),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-500 rounded-full\"}),\"Kanban\"]})}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleOpenMessages(project),className:\"w-full bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 text-green-700 hover:from-green-100 hover:to-emerald-100 hover:border-green-300 hover:text-green-800 transition-all duration-200 font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"h-4 w-4\"}),\"Chat\"]})}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleOpenAnalytics(project),className:\"w-full bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200 text-purple-700 hover:from-purple-100 hover:to-pink-100 hover:border-purple-300 hover:text-purple-800 transition-all duration-200 font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-4 w-4\"}),\"Analytics\"]})}),(user===null||user===void 0?void 0:user.role)==='scrum_master'&&/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleOpenMembers(project),className:\"w-full bg-gradient-to-r from-orange-50 to-yellow-50 border-orange-200 text-orange-700 hover:from-orange-100 hover:to-yellow-100 hover:border-orange-300 hover:text-orange-800 transition-all duration-200 font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-4 w-4\"}),\"Members\"]})})]})})]})},project.id))}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",onClick:()=>setShowModal(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:editingProject?'Edit Project':'Create New Project'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowModal(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"Project Name\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true,placeholder:\"Enter project name\"}),/*#__PURE__*/_jsx(Textarea,{label:\"Description\",name:\"description\",value:formData.description,onChange:handleInputChange,placeholder:\"Enter project description\",rows:3})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",loading:projectMutation.isLoading,disabled:projectMutation.isLoading,className:\"w-full sm:w-auto sm:ml-3\",children:editingProject?'Update Project':'Create Project'}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",onClick:()=>setShowModal(false),className:\"mt-3 w-full sm:mt-0 sm:w-auto\",children:\"Cancel\"})]})]})})]})}),showMessages&&selectedProject&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",onClick:handleCloseMessages}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full h-[600px]\",children:/*#__PURE__*/_jsx(ProjectChat,{projectId:selectedProject.id,projectName:selectedProject.name})})]})}),/*#__PURE__*/_jsx(ProjectMembersModal,{project:selectedProject,isOpen:showMembers,onClose:handleCloseMembers}),showKanban&&selectedProject&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",onClick:handleCloseKanban}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:[selectedProject.name,\" - Task Board\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCloseKanban,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(KanbanBoard,{projectId:selectedProject.id,onTaskCreate:(user===null||user===void 0?void 0:user.role)==='scrum_master'?handleCreateTask:undefined})]})})]})}),(user===null||user===void 0?void 0:user.role)==='scrum_master'&&/*#__PURE__*/_jsx(_Fragment,{children:showTaskModal&&/*#__PURE__*/_jsx(TaskModal,{task:editingTask,onClose:handleCloseTaskModal,onSuccess:handleTaskSuccess})}),showAnalytics&&selectedProject&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",onClick:handleCloseAnalytics}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-6 pt-6 pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900\",children:\"Project Analytics\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[selectedProject.name,\" - Detailed insights and performance metrics\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseAnalytics,className:\"text-gray-400 hover:text-gray-600 text-2xl font-bold\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-[80vh] overflow-y-auto\",children:/*#__PURE__*/_jsx(ProjectAnalytics,{analytics:(projectAnalytics===null||projectAnalytics===void 0?void 0:projectAnalytics.data)||projectAnalytics,projectName:selectedProject.name,isLoading:analyticsLoading})})]})})]})}),/*#__PURE__*/_jsx(ConfirmPasswordModal,{isOpen:!!confirmDeleteProjectId,title:\"Delete Project\",description:\"Deleting this project will remove all its tasks. Confirm your password to continue.\",onCancel:()=>{setConfirmDeleteProjectId(null);setConfirmError('');},onConfirm:confirmDelete,isSubmitting:confirmLoading,errorMessage:confirmError})]});};export default Projects;","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","useAuth","projectsAPI","authAPI","tasksAPI","Card","Button","Input","Textarea","Badge","LoadingSpinner","ConfirmPasswordModal","ProjectMembersModal","ProjectChat","KanbanBoard","TaskModal","ProjectAnalytics","Plus","FolderOpen","Calendar","User","BarChart3","Edit","Trash2","Users","TrendingUp","MessageSquare","Send","UserPlus","X","Search","format","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Projects","_projects$data","user","queryClient","showModal","setShowModal","editingProject","setEditingProject","selectedProject","setSelectedProject","showMessages","setShowMessages","showMembers","setShowMembers","showKanban","setShowKanban","showTaskModal","setShowTaskModal","showAnalytics","setShowAnalytics","selectedProjectForAnalytics","setSelectedProjectForAnalytics","editingTask","setEditingTask","newMessage","setNewMessage","confirmDeleteProjectId","setConfirmDeleteProjectId","confirmError","setConfirmError","confirmLoading","setConfirmLoading","searchQuery","setSearchQuery","formData","setFormData","name","description","member_ids","data","projects","isLoading","error","role","getAssignedProjects","getProjects","onError","console","onSuccess","log","messages","messagesLoading","refetch","refetchMessages","id","getProjectMessages","enabled","refetchInterval","projectAnalytics","analyticsLoading","analyticsError","res","getTaskAnalytics","getProjectAnalytics","retry","projectMutation","updateProject","createProject","invalidateQueries","success","_error$response","response","message","detail","first","Object","entries","msgs","Array","isArray","String","deleteProjectMutation","projectId","deleteProject","_error$response2","_error$response2$data","sendMessageMutation","messageData","createProjectMessage","_error$response3","_error$response3$data","handleInputChange","e","value","target","prev","_objectSpread","handleSubmit","preventDefault","trim","payload","mutate","handleEditProject","project","handleDeleteProject","confirmDelete","password","login","email","onSettled","handleSendMessage","content","handleOpenMessages","handleCloseMessages","handleOpenMembers","handleCloseMembers","handleOpenKanban","handleCloseKanban","handleOpenAnalytics","handleCloseAnalytics","handleViewAnalytics","arguments","length","undefined","handleCreateTask","handleCloseTaskModal","handleTaskSuccess","className","children","size","allProjects","results","projectList","filter","_project$description","toLowerCase","includes","type","placeholder","onChange","onClick","map","variant","task_count","progress_percentage","created_by_name","Date","created_at","member_count","concat","style","width","members","slice","m","user_name","onSubmit","label","required","rows","loading","disabled","projectName","isOpen","onClose","onTaskCreate","task","analytics","title","onCancel","onConfirm","isSubmitting","errorMessage"],"sources":["C:/Users/B Chaitanya Chowdary/Desktop/Task/frontend/src/pages/Projects/Projects.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { projectsAPI, authAPI, tasksAPI } from '../../services/api';\r\nimport Card from '../../components/UI/Card';\r\nimport Button from '../../components/UI/Button';\r\nimport Input from '../../components/UI/Input';\r\nimport Textarea from '../../components/UI/Textarea';\r\nimport Badge from '../../components/UI/Badge';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\nimport ConfirmPasswordModal from '../../components/UI/ConfirmPasswordModal';\r\nimport ProjectMembersModal from '../../components/Projects/ProjectMembersModal';\r\nimport ProjectChat from '../../components/Projects/ProjectChat';\r\nimport KanbanBoard from '../../components/Tasks/KanbanBoard';\r\nimport TaskModal from '../../components/Tasks/TaskModal';\r\nimport ProjectAnalytics from '../../components/Analytics/ProjectAnalytics';\r\nimport {\r\n  Plus,\r\n  FolderOpen,\r\n  Calendar,\r\n  User,\r\n  BarChart3,\r\n  Edit,\r\n  Trash2,\r\n  Users,\r\n  TrendingUp,\r\n  MessageSquare,\r\n  Send,\r\n  UserPlus,\r\n  X,\r\n  Search,\r\n} from 'lucide-react';\r\nimport { format } from 'date-fns';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Projects = () => {\r\n  const { user } = useAuth();\r\n  const queryClient = useQueryClient();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingProject, setEditingProject] = useState(null);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [showMessages, setShowMessages] = useState(false);\r\n  const [showMembers, setShowMembers] = useState(false);\r\n  const [showKanban, setShowKanban] = useState(false);\r\n  const [showTaskModal, setShowTaskModal] = useState(false);\r\n  const [showAnalytics, setShowAnalytics] = useState(false);\r\n  const [selectedProjectForAnalytics, setSelectedProjectForAnalytics] = useState('');\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [confirmDeleteProjectId, setConfirmDeleteProjectId] = useState(null);\r\n  const [confirmError, setConfirmError] = useState('');\r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    member_ids: [],\r\n  });\r\n\r\n  // Fetch projects - different API based on user role\r\n  const { data: projects, isLoading, error } = useQuery(\r\n    'projects',\r\n    user?.role === 'employee' ? projectsAPI.getAssignedProjects : projectsAPI.getProjects,\r\n    {\r\n      onError: (error) => {\r\n        console.error('Error fetching projects:', error);\r\n      },\r\n      onSuccess: (data) => {\r\n        console.log('Projects data:', data);\r\n        console.log('User role:', user?.role);\r\n      }\r\n    }\r\n  );\r\n\r\n  // Fetch project messages when a project is selected\r\n  const { data: messages, isLoading: messagesLoading, refetch: refetchMessages } = useQuery(\r\n    ['projectMessages', selectedProject?.id],\r\n    () => projectsAPI.getProjectMessages(selectedProject.id),\r\n    {\r\n      enabled: !!selectedProject && showMessages,\r\n      refetchInterval: 5000, // Refetch every 5 seconds for real-time updates\r\n    }\r\n  );\r\n\r\n  // Fetch project analytics when analytics is shown\r\n  const { data: projectAnalytics, isLoading: analyticsLoading, error: analyticsError } = useQuery(\r\n    ['projectAnalytics', selectedProjectForAnalytics, user?.role],\r\n    async () => {\r\n      if (selectedProjectForAnalytics) {\r\n        // For employees, use general task analytics to avoid 403 errors\r\n        if (user?.role === 'employee') {\r\n          console.log('Projects page - Employee detected, using general task analytics');\r\n          const res = await tasksAPI.getTaskAnalytics();\r\n          return res.data || res;\r\n        }\r\n        \r\n        // For scrum masters, try project-specific analytics\r\n        try {\r\n          const res = await projectsAPI.getProjectAnalytics(selectedProjectForAnalytics);\r\n          return res.data || res;\r\n        } catch (error) {\r\n          console.log('Projects page - Project analytics failed, falling back to task analytics:', error);\r\n          const res = await tasksAPI.getTaskAnalytics();\r\n          return res.data || res;\r\n        }\r\n      }\r\n      // If no specific project selected, get general analytics\r\n      const res = await tasksAPI.getTaskAnalytics();\r\n      return res.data || res;\r\n    },\r\n    {\r\n      enabled: showAnalytics,\r\n      retry: false,\r\n      onSuccess: (data) => {\r\n        console.log('Project analytics data:', data);\r\n      },\r\n      onError: (error) => {\r\n        console.error('Project analytics error:', error);\r\n        // Don't fallback to general analytics - show error instead\r\n        toast.error('Failed to load project analytics. Please try again.');\r\n      }\r\n    }\r\n  );\r\n\r\n  // Create/Update project mutation\r\n  const projectMutation = useMutation(\r\n    (data) => editingProject ? projectsAPI.updateProject(editingProject.id, data) : projectsAPI.createProject(data),\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries('projects');\r\n        setShowModal(false);\r\n        setEditingProject(null);\r\n        setFormData({ name: '', description: '', member_ids: [] });\r\n        toast.success(editingProject ? 'Project updated successfully' : 'Project created successfully');\r\n      },\r\n      onError: (error) => {\r\n        const data = error.response?.data;\r\n        let message = 'Operation failed';\r\n        if (typeof data === 'string') {\r\n          message = data;\r\n        } else if (data?.detail) {\r\n          message = data.detail;\r\n        } else if (data && typeof data === 'object') {\r\n          const first = Object.entries(data)[0];\r\n          if (first) {\r\n            const [, msgs] = first;\r\n            message = Array.isArray(msgs) ? msgs[0] : String(msgs);\r\n          }\r\n        }\r\n        toast.error(message);\r\n      },\r\n    }\r\n  );\r\n\r\n  // Delete project mutation\r\n  const deleteProjectMutation = useMutation(\r\n    (projectId) => projectsAPI.deleteProject(projectId),\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries('projects');\r\n        toast.success('Project deleted successfully');\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.response?.data?.detail || 'Failed to delete project');\r\n      },\r\n    }\r\n  );\r\n\r\n  // Send message mutation\r\n  const sendMessageMutation = useMutation(\r\n    (messageData) => projectsAPI.createProjectMessage(selectedProject.id, messageData),\r\n    {\r\n      onSuccess: () => {\r\n        setNewMessage('');\r\n        refetchMessages();\r\n        toast.success('Message sent');\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.response?.data?.detail || 'Failed to send message');\r\n      },\r\n    }\r\n  );\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!formData.name.trim()) {\r\n      toast.error('Project name is required');\r\n      return;\r\n    }\r\n    const payload = {\r\n      name: formData.name.trim(),\r\n      description: (formData.description || '').trim(),\r\n      member_ids: formData.member_ids,\r\n    };\r\n    projectMutation.mutate(payload);\r\n  };\r\n\r\n  const handleEditProject = (project) => {\r\n    setEditingProject(project);\r\n    setFormData({\r\n      name: project.name,\r\n      description: project.description,\r\n      member_ids: [],\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDeleteProject = (projectId) => {\r\n    setConfirmError('');\r\n    setConfirmDeleteProjectId(projectId);\r\n  };\r\n\r\n  const confirmDelete = async (password) => {\r\n    if (!confirmDeleteProjectId) return;\r\n    setConfirmLoading(true);\r\n    setConfirmError('');\r\n    try {\r\n      // verify identity using password\r\n      await authAPI.login(user?.email, password);\r\n      deleteProjectMutation.mutate(confirmDeleteProjectId, {\r\n        onSettled: () => {\r\n          setConfirmLoading(false);\r\n          setConfirmDeleteProjectId(null);\r\n        }\r\n      });\r\n    } catch (e) {\r\n      setConfirmLoading(false);\r\n      setConfirmError('Incorrect password. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim()) return;\r\n    \r\n    sendMessageMutation.mutate({\r\n      content: newMessage.trim(),\r\n    });\r\n  };\r\n\r\n  const handleOpenMessages = (project) => {\r\n    setSelectedProject(project);\r\n    setShowMessages(true);\r\n  };\r\n\r\n  const handleCloseMessages = () => {\r\n    setShowMessages(false);\r\n    setSelectedProject(null);\r\n    setNewMessage('');\r\n  };\r\n\r\n  const handleOpenMembers = (project) => {\r\n    setSelectedProject(project);\r\n    setShowMembers(true);\r\n  };\r\n\r\n  const handleCloseMembers = () => {\r\n    setShowMembers(false);\r\n    setSelectedProject(null);\r\n  };\r\n\r\n  const handleOpenKanban = (project) => {\r\n    setSelectedProject(project);\r\n    setShowKanban(true);\r\n  };\r\n\r\n  const handleCloseKanban = () => {\r\n    setShowKanban(false);\r\n    setSelectedProject(null);\r\n  };\r\n\r\n  const handleOpenAnalytics = (project) => {\r\n    setSelectedProject(project);\r\n    setShowAnalytics(true);\r\n  };\r\n\r\n  const handleCloseAnalytics = () => {\r\n    setShowAnalytics(false);\r\n    setSelectedProjectForAnalytics('');\r\n  };\r\n\r\n  const handleViewAnalytics = (projectId = '') => {\r\n    setSelectedProjectForAnalytics(projectId);\r\n    setShowAnalytics(true);\r\n  };\r\n\r\n  const handleCreateTask = () => {\r\n    setEditingTask(null);\r\n    setShowTaskModal(true);\r\n  };\r\n\r\n  const handleCloseTaskModal = () => {\r\n    setShowTaskModal(false);\r\n    setEditingTask(null);\r\n  };\r\n\r\n  const handleTaskSuccess = () => {\r\n    queryClient.invalidateQueries('projects');\r\n    handleCloseTaskModal();\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <p className=\"text-red-500\">Failed to load projects</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Normalize paginated/non-paginated responses\r\n  const allProjects = Array.isArray(projects)\r\n    ? projects\r\n    : (Array.isArray(projects?.data) \r\n        ? projects.data \r\n        : (projects?.data?.results || []));\r\n\r\n  // Filter projects based on search query\r\n  const projectList = allProjects.filter(project =>\r\n    project.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    project.description?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  // Debug logging\r\n  console.log('Projects response:', projects);\r\n  console.log('Project list:', projectList);\r\n  console.log('Project list length:', projectList.length);\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* Enhanced Header */}\r\n      <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100\">\r\n        <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-6\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"flex items-center gap-4 mb-4\">\r\n              <div className=\"p-3 bg-blue-600 rounded-xl shadow-lg\">\r\n                <FolderOpen className=\"h-8 w-8 text-white\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">Projects</h1>\r\n                <p className=\"text-lg text-gray-600\">\r\n                  Manage your projects and track progress\r\n                  {projectList.length > 0 && (\r\n                    <span className=\"ml-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold\">\r\n                      {projectList.length} {projectList.length === 1 ? 'project' : 'projects'}\r\n                    </span>\r\n                  )}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Enhanced Search Bar */}\r\n            <div className=\"relative max-w-lg\">\r\n              <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-500\" />\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"Search projects by name or description...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"pl-12 h-14 bg-white/90 backdrop-blur-sm border-2 border-blue-200 focus:border-blue-500 rounded-xl text-lg shadow-lg hover:shadow-xl transition-all duration-200\"\r\n              />\r\n              {searchQuery && (\r\n                <button\r\n                  onClick={() => setSearchQuery('')}\r\n                  className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {user?.role === 'scrum_master' && (\r\n            <Button\r\n              onClick={() => {\r\n                setEditingProject(null);\r\n                setFormData({ name: '', description: '' });\r\n                setShowModal(true);\r\n              }}\r\n              className=\"flex items-center gap-3 px-6 py-3 h-12 text-lg font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200\"\r\n            >\r\n              <Plus className=\"h-5 w-5\" />\r\n              New Project\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Projects Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {projectList.length === 0 ? (\r\n          <div className=\"col-span-full\">\r\n            <Card className=\"p-8 text-center\">\r\n              <FolderOpen className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500\">\r\n                {user?.role === 'employee' \r\n                  ? 'No projects assigned to you yet. Contact your Scrum Master to be added to a project.'\r\n                  : 'No projects found'\r\n                }\r\n              </p>\r\n              {user?.role === 'scrum_master' && (\r\n                <Button\r\n                  onClick={() => setShowModal(true)}\r\n                  className=\"mt-4\"\r\n                >\r\n                  Create your first project\r\n                </Button>\r\n              )}\r\n            </Card>\r\n          </div>\r\n        ) : (\r\n          projectList.map((project) => (\r\n            <Card key={project.id} className=\"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50 hover:from-blue-50 hover:to-indigo-50 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1 rounded-2xl border border-gray-200 h-full\">\r\n              <div className=\"flex h-full flex-col\">\r\n                {/* Project Header with Gradient Background */}\r\n                <div className=\"relative p-6 pb-4\">\r\n                  {/* Background Pattern */}\r\n                  <div className=\"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"></div>\r\n                  \r\n                  <div className=\"relative flex items-start justify-between\">\r\n                    <div className=\"flex items-center gap-4 min-w-0 flex-1\">\r\n                      <div className=\"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300\">\r\n                        <FolderOpen className=\"h-6 w-6 text-white\" />\r\n                      </div>\r\n                      <div className=\"min-w-0 flex-1\">\r\n                        <h3 className=\"font-bold text-gray-900 text-xl leading-6 truncate group-hover:text-blue-700 transition-colors duration-300\">\r\n                          {project.name}\r\n                        </h3>\r\n                        <div className=\"flex items-center gap-2 mt-2\">\r\n                          <Badge variant=\"primary\" size=\"sm\" className=\"bg-gradient-to-r from-blue-500 to-indigo-500 text-white border-0 shadow-md\">\r\n                            {project.task_count} tasks\r\n                          </Badge>\r\n                          <Badge \r\n                            variant={project.progress_percentage === 100 ? \"success\" : project.progress_percentage > 50 ? \"warning\" : \"secondary\"}\r\n                            size=\"sm\"\r\n                            className=\"shadow-md\"\r\n                          >\r\n                            {project.progress_percentage}% complete\r\n                          </Badge>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {user?.role === 'scrum_master' && (\r\n                      <div className=\"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n                        <button\r\n                          onClick={() => handleEditProject(project)}\r\n                          className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-100 rounded-lg transition-all duration-200\"\r\n                        >\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteProject(project.id)}\r\n                          className=\"p-2 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-lg transition-all duration-200\"\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Project Description */}\r\n                {project.description && (\r\n                  <div className=\"px-6 pb-4\">\r\n                    <p className=\"text-gray-600 text-sm line-clamp-2 min-h-[2.5rem] leading-relaxed\">\r\n                      {project.description}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Project Meta with Enhanced Design */}\r\n                <div className=\"px-6 pb-6 flex-1 flex flex-col justify-between\">\r\n                  <div className=\"space-y-3\">\r\n                    {/* Creator and Date */}\r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <div className=\"flex items-center gap-2 text-gray-500\">\r\n                        <div className=\"p-1 bg-gray-100 rounded-lg\">\r\n                          <User className=\"h-3 w-3\" />\r\n                        </div>\r\n                        <span className=\"font-medium\">Created by {project.created_by_name}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 text-gray-500\">\r\n                        <div className=\"p-1 bg-gray-100 rounded-lg\">\r\n                          <Calendar className=\"h-3 w-3\" />\r\n                        </div>\r\n                        <span className=\"font-medium\">{format(new Date(project.created_at), 'MMM dd, yyyy')}</span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Stats Row */}\r\n                    <div className=\"flex items-center justify-between py-3 px-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-100\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                          <Users className=\"h-4 w-4 text-blue-600\" />\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"text-lg font-bold text-gray-900\">{project.member_count}</div>\r\n                          <div className=\"text-xs text-gray-500\">Members</div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                          <TrendingUp className=\"h-4 w-4 text-green-600\" />\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <div className=\"text-lg font-bold text-gray-900\">{project.progress_percentage}%</div>\r\n                          <div className=\"text-xs text-gray-500\">Complete</div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Enhanced Progress Bar */}\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"font-medium text-gray-700\">Project Progress</span>\r\n                        <span className=\"font-bold text-gray-900\">{project.progress_percentage}%</span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner\">\r\n                        <div\r\n                          className={`h-3 rounded-full transition-all duration-1000 ease-out ${\r\n                            project.progress_percentage === 100 \r\n                              ? 'bg-gradient-to-r from-green-500 to-emerald-500' \r\n                              : project.progress_percentage > 50 \r\n                              ? 'bg-gradient-to-r from-yellow-500 to-orange-500'\r\n                              : 'bg-gradient-to-r from-blue-500 to-indigo-500'\r\n                          }`}\r\n                          style={{ width: `${project.progress_percentage}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Teammates (Employee view) - Enhanced */}\r\n                    {user?.role === 'employee' && Array.isArray(project.members) && project.members.length > 0 && (\r\n                      <div className=\"pt-3\">\r\n                        <div className=\"text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide\">Team Members</div>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {project.members.slice(0, 3).map((m) => (\r\n                            <div key={m.id} className=\"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full text-xs font-medium text-blue-800 border border-blue-200\">\r\n                              <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\r\n                              {m.user_name}\r\n                            </div>\r\n                          ))}\r\n                          {project.members.length > 3 && (\r\n                            <div className=\"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-full text-xs font-medium text-gray-600\">\r\n                              +{project.members.length - 3} more\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Enhanced Project Actions */}\r\n                <div className=\"px-6 pb-6 pt-4 mt-auto\">\r\n                  <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      className=\"w-full bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 text-blue-700 hover:from-blue-100 hover:to-indigo-100 hover:border-blue-300 hover:text-blue-800 transition-all duration-200 font-medium\"\r\n                      onClick={() => handleOpenKanban(project)}\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-2\">\r\n                        <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\r\n                        Kanban\r\n                      </div>\r\n                    </Button>\r\n\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => handleOpenMessages(project)}\r\n                      className=\"w-full bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 text-green-700 hover:from-green-100 hover:to-emerald-100 hover:border-green-300 hover:text-green-800 transition-all duration-200 font-medium\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-2\">\r\n                        <MessageSquare className=\"h-4 w-4\" />\r\n                        Chat\r\n                      </div>\r\n                    </Button>\r\n\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => handleOpenAnalytics(project)}\r\n                      className=\"w-full bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200 text-purple-700 hover:from-purple-100 hover:to-pink-100 hover:border-purple-300 hover:text-purple-800 transition-all duration-200 font-medium\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-2\">\r\n                        <BarChart3 className=\"h-4 w-4\" />\r\n                        Analytics\r\n                      </div>\r\n                    </Button>\r\n\r\n                    {user?.role === 'scrum_master' && (\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleOpenMembers(project)}\r\n                        className=\"w-full bg-gradient-to-r from-orange-50 to-yellow-50 border-orange-200 text-orange-700 hover:from-orange-100 hover:to-yellow-100 hover:border-orange-300 hover:text-orange-800 transition-all duration-200 font-medium\"\r\n                      >\r\n                        <div className=\"flex items-center justify-center gap-2\">\r\n                          <UserPlus className=\"h-4 w-4\" />\r\n                          Members\r\n                        </div>\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Project Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" onClick={() => setShowModal(false)}></div>\r\n\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                      {editingProject ? 'Edit Project' : 'Create New Project'}\r\n                    </h3>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowModal(false)}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      ×\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    <Input\r\n                      label=\"Project Name\"\r\n                      name=\"name\"\r\n                      value={formData.name}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      placeholder=\"Enter project name\"\r\n                    />\r\n\r\n                    <Textarea\r\n                      label=\"Description\"\r\n                      name=\"description\"\r\n                      value={formData.description}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Enter project description\"\r\n                      rows={3}\r\n                    />\r\n\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    loading={projectMutation.isLoading}\r\n                    disabled={projectMutation.isLoading}\r\n                    className=\"w-full sm:w-auto sm:ml-3\"\r\n                  >\r\n                    {editingProject ? 'Update Project' : 'Create Project'}\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => setShowModal(false)}\r\n                    className=\"mt-3 w-full sm:mt-0 sm:w-auto\"\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Project Messages Modal */}\r\n      {showMessages && selectedProject && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" onClick={handleCloseMessages}></div>\r\n\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full h-[600px]\">\r\n              <ProjectChat \r\n                projectId={selectedProject.id} \r\n                projectName={selectedProject.name}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Project Members Modal */}\r\n      <ProjectMembersModal\r\n        project={selectedProject}\r\n        isOpen={showMembers}\r\n        onClose={handleCloseMembers}\r\n      />\r\n\r\n      {/* Kanban Board Modal */}\r\n      {showKanban && selectedProject && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" onClick={handleCloseKanban}></div>\r\n\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full\">\r\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                    {selectedProject.name} - Task Board\r\n                  </h3>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleCloseKanban}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <X className=\"h-6 w-6\" />\r\n                  </button>\r\n                </div>\r\n                \r\n                <KanbanBoard \r\n                  projectId={selectedProject.id} \r\n                  onTaskCreate={user?.role === 'scrum_master' ? handleCreateTask : undefined}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Task Modal (Scrum Master only) */}\r\n      {user?.role === 'scrum_master' && (\r\n        <>\r\n          {showTaskModal && (\r\n            <TaskModal\r\n              task={editingTask}\r\n              onClose={handleCloseTaskModal}\r\n              onSuccess={handleTaskSuccess}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Project Analytics Modal */}\r\n      {showAnalytics && selectedProject && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" onClick={handleCloseAnalytics}></div>\r\n\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full\">\r\n              <div className=\"bg-white px-6 pt-6 pb-4\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"p-3 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg\">\r\n                      <BarChart3 className=\"h-6 w-6 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"text-2xl font-bold text-gray-900\">Project Analytics</h3>\r\n                      <p className=\"text-gray-600\">{selectedProject.name} - Detailed insights and performance metrics</p>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={handleCloseAnalytics}\r\n                    className=\"text-gray-400 hover:text-gray-600 text-2xl font-bold\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"max-h-[80vh] overflow-y-auto\">\r\n                  <ProjectAnalytics \r\n                    analytics={projectAnalytics?.data || projectAnalytics}\r\n                    projectName={selectedProject.name}\r\n                    isLoading={analyticsLoading}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Confirm Password Modal for Delete Project */}\r\n      <ConfirmPasswordModal\r\n        isOpen={!!confirmDeleteProjectId}\r\n        title=\"Delete Project\"\r\n        description=\"Deleting this project will remove all its tasks. Confirm your password to continue.\"\r\n        onCancel={() => {\r\n          setConfirmDeleteProjectId(null);\r\n          setConfirmError('');\r\n        }}\r\n        onConfirm={confirmDelete}\r\n        isSubmitting={confirmLoading}\r\n        errorMessage={confirmError}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Projects;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}