{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\B Chaitanya Chowdary\\\\Desktop\\\\Task\\\\frontend\\\\src\\\\pages\\\\Users\\\\Users.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { authAPI } from '../../services/api';\nimport Card from '../../components/UI/Card';\nimport Button from '../../components/UI/Button';\nimport Input from '../../components/UI/Input';\nimport Select from '../../components/UI/Select';\nimport Badge from '../../components/UI/Badge';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\nimport { Plus, Search, User, Mail, Calendar, Edit, Trash2, Shield, UserCheck } from 'lucide-react';\nimport { format } from 'date-fns';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Users = () => {\n  _s();\n  var _users$data;\n  const {\n    user\n  } = useAuth();\n  const queryClient = useQueryClient();\n  const [showModal, setShowModal] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    first_name: '',\n    last_name: '',\n    role: 'employee'\n  });\n\n  // Fetch users\n  const {\n    data: users,\n    isLoading,\n    error\n  } = useQuery('users', authAPI.getUsers, {\n    enabled: (user === null || user === void 0 ? void 0 : user.role) === 'scrum_master'\n  });\n\n  // Create/Update user mutation\n  const userMutation = useMutation(data => editingUser ? authAPI.updateUser(editingUser.id, data) : authAPI.createUser(data), {\n    onSuccess: () => {\n      queryClient.invalidateQueries('users');\n      setShowModal(false);\n      setEditingUser(null);\n      setFormData({\n        username: '',\n        email: '',\n        first_name: '',\n        last_name: '',\n        role: 'employee'\n      });\n      toast.success(editingUser ? 'User updated successfully' : 'User created successfully');\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Operation failed');\n    }\n  });\n\n  // Delete user mutation\n  const deleteUserMutation = useMutation(userId => authAPI.deleteUser(userId), {\n    onSuccess: () => {\n      queryClient.invalidateQueries('users');\n      toast.success('User deleted successfully');\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || 'Failed to delete user');\n    }\n  });\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.username.trim() || !formData.email.trim()) {\n      toast.error('Username and email are required');\n      return;\n    }\n    userMutation.mutate(formData);\n  };\n  const handleEditUser = userData => {\n    setEditingUser(userData);\n    setFormData({\n      username: userData.username,\n      email: userData.email,\n      first_name: userData.first_name,\n      last_name: userData.last_name,\n      role: userData.role\n    });\n    setShowModal(true);\n  };\n  const handleDeleteUser = userId => {\n    if (window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\n      deleteUserMutation.mutate(userId);\n    }\n  };\n  const getRoleBadge = role => {\n    const variants = {\n      scrum_master: 'primary',\n      employee: 'gray'\n    };\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      variant: variants[role],\n      children: role.replace('_', ' ').toUpperCase()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  };\n  const getRoleIcon = role => {\n    return role === 'scrum_master' ? /*#__PURE__*/_jsxDEV(Shield, {\n      className: \"h-4 w-4 text-blue-600\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(UserCheck, {\n      className: \"h-4 w-4 text-gray-600\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this);\n  };\n  const roleOptions = [{\n    value: 'employee',\n    label: 'Employee'\n  }, {\n    value: 'scrum_master',\n    label: 'Scrum Master'\n  }];\n\n  // Filter users based on search term\n  const filteredUsers = (users === null || users === void 0 ? void 0 : (_users$data = users.data) === null || _users$data === void 0 ? void 0 : _users$data.filter(userData => userData.username.toLowerCase().includes(searchTerm.toLowerCase()) || userData.email.toLowerCase().includes(searchTerm.toLowerCase()) || userData.first_name.toLowerCase().includes(searchTerm.toLowerCase()) || userData.last_name.toLowerCase().includes(searchTerm.toLowerCase()))) || [];\n  if ((user === null || user === void 0 ? void 0 : user.role) !== 'scrum_master') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500\",\n        children: \"Access denied. Only Scrum Masters can view this page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500\",\n        children: \"Failed to load users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Manage team members and their roles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setEditingUser(null);\n          setFormData({\n            username: '',\n            email: '',\n            first_name: '',\n            last_name: '',\n            role: 'employee'\n          });\n          setShowModal(true);\n        },\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), \"Add User\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Search users...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"pl-10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: filteredUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"p-8 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: searchTerm ? 'No users found matching your search' : 'No users found'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this) : filteredUsers.map(userData => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6 hover:shadow-md transition-shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-gray-100 rounded-lg\",\n                children: getRoleIcon(userData.role)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: userData.get_full_name || userData.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), getRoleBadge(userData.role)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditUser(userData),\n                className: \"text-gray-400 hover:text-gray-600\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteUser(userData.id),\n                className: \"text-gray-400 hover:text-red-600\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, this), userData.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), \"Joined \", format(new Date(userData.date_joined), 'MMM dd, yyyy')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-2 border-t\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Username:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: userData.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 15\n        }, this)\n      }, userData.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",\n          onClick: () => setShowModal(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-900\",\n                  children: editingUser ? 'Edit User' : 'Add New User'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowModal(false),\n                  className: \"text-gray-400 hover:text-gray-600\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Input, {\n                    label: \"First Name\",\n                    name: \"first_name\",\n                    value: formData.first_name,\n                    onChange: handleInputChange,\n                    required: true,\n                    placeholder: \"First name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    label: \"Last Name\",\n                    name: \"last_name\",\n                    value: formData.last_name,\n                    onChange: handleInputChange,\n                    required: true,\n                    placeholder: \"Last name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  label: \"Username\",\n                  name: \"username\",\n                  value: formData.username,\n                  onChange: handleInputChange,\n                  required: true,\n                  placeholder: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  label: \"Email\",\n                  name: \"email\",\n                  type: \"email\",\n                  value: formData.email,\n                  onChange: handleInputChange,\n                  required: true,\n                  placeholder: \"Email address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  label: \"Role\",\n                  name: \"role\",\n                  value: formData.role,\n                  onChange: handleInputChange,\n                  options: roleOptions,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                loading: userMutation.isLoading,\n                disabled: userMutation.isLoading,\n                className: \"w-full sm:w-auto sm:ml-3\",\n                children: editingUser ? 'Update User' : 'Add User'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                variant: \"outline\",\n                onClick: () => setShowModal(false),\n                className: \"mt-3 w-full sm:mt-0 sm:w-auto\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(Users, \"DMLw20mPy+QiyfmTr2MFLPqCTlg=\", false, function () {\n  return [useAuth, useQueryClient, useQuery, useMutation, useMutation];\n});\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","useAuth","authAPI","Card","Button","Input","Select","Badge","LoadingSpinner","Plus","Search","User","Mail","Calendar","Edit","Trash2","Shield","UserCheck","format","toast","jsxDEV","_jsxDEV","Users","_s","_users$data","user","queryClient","showModal","setShowModal","editingUser","setEditingUser","searchTerm","setSearchTerm","formData","setFormData","username","email","first_name","last_name","role","data","users","isLoading","error","getUsers","enabled","userMutation","updateUser","id","createUser","onSuccess","invalidateQueries","success","onError","_error$response","_error$response$data","response","detail","deleteUserMutation","userId","deleteUser","_error$response2","_error$response2$data","handleInputChange","e","name","value","target","prev","handleSubmit","preventDefault","trim","mutate","handleEditUser","userData","handleDeleteUser","window","confirm","getRoleBadge","variants","scrum_master","employee","variant","children","replace","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","getRoleIcon","className","roleOptions","label","filteredUsers","filter","toLowerCase","includes","size","onClick","placeholder","onChange","length","map","get_full_name","Date","date_joined","onSubmit","type","required","options","loading","disabled","_c","$RefreshReg$"],"sources":["C:/Users/B Chaitanya Chowdary/Desktop/Task/frontend/src/pages/Users/Users.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { authAPI } from '../../services/api';\r\nimport Card from '../../components/UI/Card';\r\nimport Button from '../../components/UI/Button';\r\nimport Input from '../../components/UI/Input';\r\nimport Select from '../../components/UI/Select';\r\nimport Badge from '../../components/UI/Badge';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\nimport {\r\n  Plus,\r\n  Search,\r\n  User,\r\n  Mail,\r\n  Calendar,\r\n  Edit,\r\n  Trash2,\r\n  Shield,\r\n  UserCheck,\r\n} from 'lucide-react';\r\nimport { format } from 'date-fns';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Users = () => {\r\n  const { user } = useAuth();\r\n  const queryClient = useQueryClient();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    role: 'employee',\r\n  });\r\n\r\n  // Fetch users\r\n  const { data: users, isLoading, error } = useQuery(\r\n    'users',\r\n    authAPI.getUsers,\r\n    {\r\n      enabled: user?.role === 'scrum_master',\r\n    }\r\n  );\r\n\r\n  // Create/Update user mutation\r\n  const userMutation = useMutation(\r\n    (data) => editingUser ? authAPI.updateUser(editingUser.id, data) : authAPI.createUser(data),\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries('users');\r\n        setShowModal(false);\r\n        setEditingUser(null);\r\n        setFormData({\r\n          username: '',\r\n          email: '',\r\n          first_name: '',\r\n          last_name: '',\r\n          role: 'employee',\r\n        });\r\n        toast.success(editingUser ? 'User updated successfully' : 'User created successfully');\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.response?.data?.detail || 'Operation failed');\r\n      },\r\n    }\r\n  );\r\n\r\n  // Delete user mutation\r\n  const deleteUserMutation = useMutation(\r\n    (userId) => authAPI.deleteUser(userId),\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries('users');\r\n        toast.success('User deleted successfully');\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.response?.data?.detail || 'Failed to delete user');\r\n      },\r\n    }\r\n  );\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!formData.username.trim() || !formData.email.trim()) {\r\n      toast.error('Username and email are required');\r\n      return;\r\n    }\r\n    userMutation.mutate(formData);\r\n  };\r\n\r\n  const handleEditUser = (userData) => {\r\n    setEditingUser(userData);\r\n    setFormData({\r\n      username: userData.username,\r\n      email: userData.email,\r\n      first_name: userData.first_name,\r\n      last_name: userData.last_name,\r\n      role: userData.role,\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDeleteUser = (userId) => {\r\n    if (window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\r\n      deleteUserMutation.mutate(userId);\r\n    }\r\n  };\r\n\r\n  const getRoleBadge = (role) => {\r\n    const variants = {\r\n      scrum_master: 'primary',\r\n      employee: 'gray',\r\n    };\r\n    return (\r\n      <Badge variant={variants[role]}>\r\n        {role.replace('_', ' ').toUpperCase()}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const getRoleIcon = (role) => {\r\n    return role === 'scrum_master' ? (\r\n      <Shield className=\"h-4 w-4 text-blue-600\" />\r\n    ) : (\r\n      <UserCheck className=\"h-4 w-4 text-gray-600\" />\r\n    );\r\n  };\r\n\r\n  const roleOptions = [\r\n    { value: 'employee', label: 'Employee' },\r\n    { value: 'scrum_master', label: 'Scrum Master' },\r\n  ];\r\n\r\n  // Filter users based on search term\r\n  const filteredUsers = users?.data?.filter(userData =>\r\n    userData.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    userData.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    userData.first_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    userData.last_name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  ) || [];\r\n\r\n  if (user?.role !== 'scrum_master') {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <p className=\"text-red-500\">Access denied. Only Scrum Masters can view this page.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <p className=\"text-red-500\">Failed to load users</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Users</h1>\r\n          <p className=\"text-gray-600\">Manage team members and their roles</p>\r\n        </div>\r\n        <Button\r\n          onClick={() => {\r\n            setEditingUser(null);\r\n            setFormData({\r\n              username: '',\r\n              email: '',\r\n              first_name: '',\r\n              last_name: '',\r\n              role: 'employee',\r\n            });\r\n            setShowModal(true);\r\n          }}\r\n          className=\"flex items-center gap-2\"\r\n        >\r\n          <Plus className=\"h-4 w-4\" />\r\n          Add User\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <Card className=\"p-4\">\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n          <Input\r\n            placeholder=\"Search users...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"pl-10\"\r\n          />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Users List */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {filteredUsers.length === 0 ? (\r\n          <div className=\"col-span-full\">\r\n            <Card className=\"p-8 text-center\">\r\n              <User className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500\">\r\n                {searchTerm ? 'No users found matching your search' : 'No users found'}\r\n              </p>\r\n            </Card>\r\n          </div>\r\n        ) : (\r\n          filteredUsers.map((userData) => (\r\n            <Card key={userData.id} className=\"p-6 hover:shadow-md transition-shadow\">\r\n              <div className=\"space-y-4\">\r\n                {/* User Header */}\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"p-2 bg-gray-100 rounded-lg\">\r\n                      {getRoleIcon(userData.role)}\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-900\">\r\n                        {userData.get_full_name || userData.username}\r\n                      </h3>\r\n                      {getRoleBadge(userData.role)}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center gap-1\">\r\n                    <button\r\n                      onClick={() => handleEditUser(userData)}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      <Edit className=\"h-4 w-4\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteUser(userData.id)}\r\n                      className=\"text-gray-400 hover:text-red-600\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* User Details */}\r\n                <div className=\"space-y-2 text-sm text-gray-500\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Mail className=\"h-4 w-4\" />\r\n                    {userData.email}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Calendar className=\"h-4 w-4\" />\r\n                    Joined {format(new Date(userData.date_joined), 'MMM dd, yyyy')}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* User Stats */}\r\n                <div className=\"pt-2 border-t\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-gray-600\">Username:</span>\r\n                    <span className=\"font-medium\">{userData.username}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* User Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" onClick={() => setShowModal(false)}></div>\r\n\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                      {editingUser ? 'Edit User' : 'Add New User'}\r\n                    </h3>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowModal(false)}\r\n                      className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                      ×\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <Input\r\n                        label=\"First Name\"\r\n                        name=\"first_name\"\r\n                        value={formData.first_name}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                        placeholder=\"First name\"\r\n                      />\r\n                      <Input\r\n                        label=\"Last Name\"\r\n                        name=\"last_name\"\r\n                        value={formData.last_name}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                        placeholder=\"Last name\"\r\n                      />\r\n                    </div>\r\n\r\n                    <Input\r\n                      label=\"Username\"\r\n                      name=\"username\"\r\n                      value={formData.username}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      placeholder=\"Username\"\r\n                    />\r\n\r\n                    <Input\r\n                      label=\"Email\"\r\n                      name=\"email\"\r\n                      type=\"email\"\r\n                      value={formData.email}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      placeholder=\"Email address\"\r\n                    />\r\n\r\n                    <Select\r\n                      label=\"Role\"\r\n                      name=\"role\"\r\n                      value={formData.role}\r\n                      onChange={handleInputChange}\r\n                      options={roleOptions}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    loading={userMutation.isLoading}\r\n                    disabled={userMutation.isLoading}\r\n                    className=\"w-full sm:w-auto sm:ml-3\"\r\n                  >\r\n                    {editingUser ? 'Update User' : 'Add User'}\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => setShowModal(false)}\r\n                    className=\"mt-3 w-full sm:mt-0 sm:w-auto\"\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}