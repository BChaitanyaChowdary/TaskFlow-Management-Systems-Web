{"ast":null,"code":"import React,{useMemo,useState}from'react';import{useQuery}from'react-query';import{tasksAPI}from'../../services/api';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{LayoutDashboard,CheckSquare,Kanban,FolderOpen,Users,User,LogOut,Menu,X,Bell}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Layout=_ref=>{var _notifResp$data,_user$role;let{children}=_ref;const{user,logout}=useAuth();const location=useLocation();const[sidebarOpen,setSidebarOpen]=useState(false);const[showLogoutModal,setShowLogoutModal]=useState(false);const[logoutPassword,setLogoutPassword]=useState('');const[showNotif,setShowNotif]=useState(false);const{data:notifResp}=useQuery('notifications',tasksAPI.getNotifications,{refetchInterval:15000});const notificationsRaw=(notifResp===null||notifResp===void 0?void 0:(_notifResp$data=notifResp.data)===null||_notifResp$data===void 0?void 0:_notifResp$data.items)||(notifResp===null||notifResp===void 0?void 0:notifResp.items)||[];const[clearedAt,setClearedAt]=useState(()=>Number(window.localStorage.getItem('tf_cleared_at')||0));const notifications=useMemo(()=>{if(!clearedAt)return notificationsRaw;return(notificationsRaw||[]).filter(n=>new Date(n.created_at).getTime()>clearedAt);},[notificationsRaw,clearedAt]);const navigation=[{name:'Dashboard',href:'/dashboard',icon:LayoutDashboard},{name:'Tasks',href:'/tasks',icon:CheckSquare},{name:'Kanban',href:'/kanban',icon:Kanban},{name:'Projects',href:'/projects',icon:FolderOpen},...((user===null||user===void 0?void 0:user.role)==='scrum_master'?[{name:'Users',href:'/users',icon:Users}]:[])];const isActive=path=>location.pathname===path;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 lg:hidden \".concat(sidebarOpen?'block':'hidden'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-75\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-16 items-center justify-between px-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"TaskFlow\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 px-4 py-4 space-y-2\",children:navigation.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsxs(Link,{to:item.href,className:\"flex items-center px-3 py-2 text-sm font-medium rounded-md \".concat(isActive(item.href)?'bg-blue-100 text-blue-700':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'),onClick:()=>setSidebarOpen(false),children:[/*#__PURE__*/_jsx(Icon,{className:\"mr-3 h-5 w-5\"}),item.name]},item.name);})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow bg-white border-r border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex h-16 items-center px-4\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"TaskFlow\"})}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 px-4 py-4 space-y-2\",children:navigation.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsxs(Link,{to:item.href,className:\"flex items-center px-3 py-2 text-sm font-medium rounded-md \".concat(isActive(item.href)?'bg-blue-100 text-blue-700':'text-gray-600 hover:bg-gray-50 hover:text-gray-900'),children:[/*#__PURE__*/_jsx(Icon,{className:\"mr-3 h-5 w-5\"}),item.name]},item.name);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:pl-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 z-40 flex h-16 items-center justify-between bg-white border-b border-gray-200 px-4 lg:px-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(true),className:\"text-gray-500 hover:text-gray-600 lg:hidden\",children:/*#__PURE__*/_jsx(Menu,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 ml-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"relative text-gray-400 hover:text-gray-600\",onClick:()=>setShowNotif(!showNotif),children:[/*#__PURE__*/_jsx(Bell,{className:\"h-6 w-6\"}),notifications.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-medium leading-none text-white bg-red-600 rounded-full\",children:[Math.min(notifications.length,9),\"+\"]})]}),showNotif&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-96 max-h-96 overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-xl z-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border-b flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs text-red-600 hover:text-red-700\",onClick:()=>{const now=Date.now();window.localStorage.setItem('tf_cleared_at',String(now));setClearedAt(now);},children:\"Clear all\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 space-y-2\",children:notifications.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-sm text-gray-500\",children:\"No notifications\"}):notifications.slice(0,20).map(n=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-1.5 py-0.5 rounded \".concat(n.type==='activity'?'bg-blue-100 text-blue-700':n.type==='due_soon'?'bg-yellow-100 text-yellow-700':'bg-green-100 text-green-700'),children:n.type==='activity'?'Activity':n.type==='due_soon'?'Due Soon':'Message'}),/*#__PURE__*/_jsx(\"span\",{children:new Date(n.created_at).toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-sm text-gray-900\",children:n.type==='activity'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium line-clamp-2\",children:n.description}),n.task_title&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Task: \",n.task_title]})]}):n.type==='due_soon'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium line-clamp-2\",children:n.content}),n.project_name&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Project: \",n.project_name]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium line-clamp-2\",children:n.content}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"From: \",n.author_name,n.project_name?\" \\u2022 \".concat(n.project_name):'']})]})})]},\"\".concat(n.type,\"-\").concat(n.id)))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:user!==null&&user!==void 0&&user.first_name?\"\".concat(user.first_name,\" \").concat(user.last_name||'').trim():(user===null||user===void 0?void 0:user.username)||''}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 capitalize\",children:user===null||user===void 0?void 0:(_user$role=user.role)===null||_user$role===void 0?void 0:_user$role.replace('_',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(User,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLogoutModal(true),className:\"text-gray-400 hover:text-gray-600\",title:\"Logout\",children:/*#__PURE__*/_jsx(LogOut,{className:\"h-6 w-6\"})})]})]})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"p-4 lg:p-8\",children:children}),showLogoutModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-900/40\",onClick:()=>setShowLogoutModal(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-lg shadow-xl w-full max-w-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Confirm Logout\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"For security, please enter your password to logout.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter your password\",value:logoutPassword,onChange:e=>setLogoutPassword(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-sm rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50\",onClick:()=>{setShowLogoutModal(false);setLogoutPassword('');},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-sm rounded-md text-white \".concat(logoutPassword?'bg-red-600 hover:bg-red-700':'bg-red-300 cursor-not-allowed'),disabled:!logoutPassword,onClick:()=>{// Optionally verify password with backend before logout\nlogout();setShowLogoutModal(false);setLogoutPassword('');},children:\"Logout\"})]})]})]})]})]});};export default Layout;","map":{"version":3,"names":["React","useMemo","useState","useQuery","tasksAPI","Link","useLocation","useAuth","LayoutDashboard","CheckSquare","Kanban","FolderOpen","Users","User","LogOut","Menu","X","Bell","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Layout","_ref","_notifResp$data","_user$role","children","user","logout","location","sidebarOpen","setSidebarOpen","showLogoutModal","setShowLogoutModal","logoutPassword","setLogoutPassword","showNotif","setShowNotif","data","notifResp","getNotifications","refetchInterval","notificationsRaw","items","clearedAt","setClearedAt","Number","window","localStorage","getItem","notifications","filter","n","Date","created_at","getTime","navigation","name","href","icon","role","isActive","path","pathname","className","concat","onClick","map","item","Icon","to","length","Math","min","now","setItem","String","slice","type","toLocaleString","description","task_title","content","project_name","author_name","id","first_name","last_name","trim","username","replace","title","placeholder","value","onChange","e","target","disabled"],"sources":["C:/Users/B Chaitanya Chowdary/Desktop/Task/frontend/src/components/Layout/Layout.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { tasksAPI } from '../../services/api';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport {\r\n  LayoutDashboard,\r\n  CheckSquare,\r\n  Kanban,\r\n  FolderOpen,\r\n  Users,\r\n  User,\r\n  LogOut,\r\n  Menu,\r\n  X,\r\n  Bell,\r\n} from 'lucide-react';\r\n\r\nconst Layout = ({ children }) => {\r\n  const { user, logout } = useAuth();\r\n  const location = useLocation();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\r\n  const [logoutPassword, setLogoutPassword] = useState('');\r\n  const [showNotif, setShowNotif] = useState(false);\r\n\r\n  const { data: notifResp } = useQuery(\r\n    'notifications',\r\n    tasksAPI.getNotifications,\r\n    { refetchInterval: 15000 }\r\n  );\r\n  const notificationsRaw = notifResp?.data?.items || notifResp?.items || [];\r\n  const [clearedAt, setClearedAt] = useState(() => Number(window.localStorage.getItem('tf_cleared_at') || 0));\r\n  const notifications = useMemo(() => {\r\n    if (!clearedAt) return notificationsRaw;\r\n    return (notificationsRaw || []).filter((n) => new Date(n.created_at).getTime() > clearedAt);\r\n  }, [notificationsRaw, clearedAt]);\r\n\r\n  const navigation = [\r\n    { name: 'Dashboard', href: '/dashboard', icon: LayoutDashboard },\r\n    { name: 'Tasks', href: '/tasks', icon: CheckSquare },\r\n    { name: 'Kanban', href: '/kanban', icon: Kanban },\r\n    { name: 'Projects', href: '/projects', icon: FolderOpen },\r\n    ...(user?.role === 'scrum_master' ? [{ name: 'Users', href: '/users', icon: Users }] : []),\r\n  ];\r\n\r\n  const isActive = (path) => location.pathname === path;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Mobile sidebar */}\r\n      <div className={`fixed inset-0 z-50 lg:hidden ${sidebarOpen ? 'block' : 'hidden'}`}>\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75\" onClick={() => setSidebarOpen(false)} />\r\n        <div className=\"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl\">\r\n          <div className=\"flex h-16 items-center justify-between px-4\">\r\n            <h1 className=\"text-xl font-bold text-gray-900\">TaskFlow</h1>\r\n            <button\r\n              onClick={() => setSidebarOpen(false)}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <X className=\"h-6 w-6\" />\r\n            </button>\r\n          </div>\r\n          <nav className=\"flex-1 px-4 py-4 space-y-2\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon;\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  to={item.href}\r\n                  className={`flex items-center px-3 py-2 text-sm font-medium rounded-md ${\r\n                    isActive(item.href)\r\n                      ? 'bg-blue-100 text-blue-700'\r\n                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                  }`}\r\n                  onClick={() => setSidebarOpen(false)}\r\n                >\r\n                  <Icon className=\"mr-3 h-5 w-5\" />\r\n                  {item.name}\r\n                </Link>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Desktop sidebar */}\r\n      <div className=\"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col\">\r\n        <div className=\"flex flex-col flex-grow bg-white border-r border-gray-200\">\r\n          <div className=\"flex h-16 items-center px-4\">\r\n            <h1 className=\"text-xl font-bold text-gray-900\">TaskFlow</h1>\r\n          </div>\r\n          <nav className=\"flex-1 px-4 py-4 space-y-2\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon;\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  to={item.href}\r\n                  className={`flex items-center px-3 py-2 text-sm font-medium rounded-md ${\r\n                    isActive(item.href)\r\n                      ? 'bg-blue-100 text-blue-700'\r\n                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                  }`}\r\n                >\r\n                  <Icon className=\"mr-3 h-5 w-5\" />\r\n                  {item.name}\r\n                </Link>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <div className=\"lg:pl-64\">\r\n        {/* Top bar */}\r\n        <div className=\"sticky top-0 z-40 flex h-16 items-center justify-between bg-white border-b border-gray-200 px-4 lg:px-8\">\r\n          <button\r\n            onClick={() => setSidebarOpen(true)}\r\n            className=\"text-gray-500 hover:text-gray-600 lg:hidden\"\r\n          >\r\n            <Menu className=\"h-6 w-6\" />\r\n          </button>\r\n          \r\n          <div className=\"flex items-center space-x-4 ml-auto\">\r\n            <div className=\"relative\">\r\n              <button className=\"relative text-gray-400 hover:text-gray-600\" onClick={() => setShowNotif(!showNotif)}>\r\n                <Bell className=\"h-6 w-6\" />\r\n                {notifications.length > 0 && (\r\n                  <span className=\"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[10px] font-medium leading-none text-white bg-red-600 rounded-full\">\r\n                    {Math.min(notifications.length, 9)}+\r\n                  </span>\r\n                )}\r\n              </button>\r\n              {showNotif && (\r\n                <div className=\"absolute right-0 mt-2 w-96 max-h-96 overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-xl z-50\">\r\n                  <div className=\"p-3 border-b flex items-center justify-between\">\r\n                    <div className=\"font-semibold text-gray-900\">Notifications</div>\r\n                    <button\r\n                      className=\"text-xs text-red-600 hover:text-red-700\"\r\n                      onClick={() => {\r\n                        const now = Date.now();\r\n                        window.localStorage.setItem('tf_cleared_at', String(now));\r\n                        setClearedAt(now);\r\n                      }}\r\n                    >\r\n                      Clear all\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"p-2 space-y-2\">\r\n                    {notifications.length === 0 ? (\r\n                      <div className=\"p-4 text-sm text-gray-500\">No notifications</div>\r\n                    ) : (\r\n                      notifications.slice(0, 20).map((n) => (\r\n                        <div key={`${n.type}-${n.id}`} className=\"p-3 bg-gray-50 rounded border border-gray-100\">\r\n                          <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                            <span className={`px-1.5 py-0.5 rounded ${n.type === 'activity' ? 'bg-blue-100 text-blue-700' : (n.type === 'due_soon' ? 'bg-yellow-100 text-yellow-700' : 'bg-green-100 text-green-700')}`}>{n.type === 'activity' ? 'Activity' : (n.type === 'due_soon' ? 'Due Soon' : 'Message')}</span>\r\n                            <span>{new Date(n.created_at).toLocaleString()}</span>\r\n                          </div>\r\n                          <div className=\"mt-1 text-sm text-gray-900\">\r\n                            {n.type === 'activity' ? (\r\n                              <>\r\n                                <p className=\"font-medium line-clamp-2\">{n.description}</p>\r\n                                {n.task_title && (<p className=\"text-xs text-gray-500 mt-1\">Task: {n.task_title}</p>)}\r\n                              </>\r\n                            ) : n.type === 'due_soon' ? (\r\n                              <>\r\n                                <p className=\"font-medium line-clamp-2\">{n.content}</p>\r\n                                {n.project_name && (<p className=\"text-xs text-gray-500 mt-1\">Project: {n.project_name}</p>)}\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <p className=\"font-medium line-clamp-2\">{n.content}</p>\r\n                                <p className=\"text-xs text-gray-500 mt-1\">From: {n.author_name}{n.project_name ? ` â€¢ ${n.project_name}` : ''}</p>\r\n                              </>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm font-medium text-gray-900\">{user?.first_name ? `${user.first_name} ${user.last_name || ''}`.trim() : (user?.username || '')}</p>\r\n                <p className=\"text-xs text-gray-500 capitalize\">{user?.role?.replace('_', ' ')}</p>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-2\">\r\n                <Link\r\n                  to=\"/profile\"\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <User className=\"h-6 w-6\" />\r\n                </Link>\r\n                <button\r\n                  onClick={() => setShowLogoutModal(true)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                  title=\"Logout\"\r\n                >\r\n                  <LogOut className=\"h-6 w-6\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Page content */}\r\n        <main className=\"p-4 lg:p-8\">\r\n          {children}\r\n        </main>\r\n\r\n        {/* Logout Confirmation Modal (in-page) */}\r\n        {showLogoutModal && (\r\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n            <div className=\"absolute inset-0 bg-gray-900/40\" onClick={() => setShowLogoutModal(false)} />\r\n            <div className=\"relative bg-white rounded-lg shadow-xl w-full max-w-md p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Confirm Logout</h3>\r\n              <p className=\"text-sm text-gray-600 mb-4\">For security, please enter your password to logout.</p>\r\n              <input\r\n                type=\"password\"\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Enter your password\"\r\n                value={logoutPassword}\r\n                onChange={(e) => setLogoutPassword(e.target.value)}\r\n              />\r\n              <div className=\"mt-4 flex justify-end gap-2\">\r\n                <button\r\n                  className=\"px-4 py-2 text-sm rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50\"\r\n                  onClick={() => {\r\n                    setShowLogoutModal(false);\r\n                    setLogoutPassword('');\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  className={`px-4 py-2 text-sm rounded-md text-white ${logoutPassword ? 'bg-red-600 hover:bg-red-700' : 'bg-red-300 cursor-not-allowed'}`}\r\n                  disabled={!logoutPassword}\r\n                  onClick={() => {\r\n                    // Optionally verify password with backend before logout\r\n                    logout();\r\n                    setShowLogoutModal(false);\r\n                    setLogoutPassword('');\r\n                  }}\r\n                >\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}